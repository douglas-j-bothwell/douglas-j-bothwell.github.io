<?xml version="1.0" encoding="utf-8"?>
<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xml:lang="en" lang="en" xmlns="http://www.w3.org/1999/xhtml">
  <head>
    <meta http-equiv="Content-Type" content="text/html;charset=utf-8" />
    <meta http-equiv="Content-Style-Type" content="text/css" />
    <title>WTA Navigator Configuration Options</title>
    <link rel="StyleSheet" href="css/__web-console-navigator-wta.css" type="text/css" media="all" />
    <link rel="StyleSheet" href="css/webworks.css" type="text/css" media="all" />
    <script type="text/javascript" language="JavaScript1.2" src="wwhdata/common/context.js"></script>
    <script type="text/javascript" language="JavaScript1.2" src="wwhdata/common/towwhdir.js"></script>
    <script type="text/javascript" language="JavaScript1.2" src="wwhdata/common/wwhpagef.js"></script>
    <script type="text/javascript" language="JavaScript1.2">
      <!--
        var  WebWorksRootPath = "";
      // -->
    </script>
    <script type="text/javascript" language="JavaScript1.2">
      <!--
        // Set reference to top level help frame
        //
        var  WWHFrame = WWHGetWWHFrame("", true);
      // -->
    </script>
    <script type="text/javascript" language="JavaScript1.2" src="scripts/expand.js"></script>
  </head>
  <body style="margin-left: 2%; margin-right: 2%" onload="WWHUpdate();" onunload="WWHUnload();" onkeydown="WWHHandleKeyDown((document.all||document.getElementById||document.layers)?event:null);" onkeypress="WWHHandleKeyPress((document.all||document.getElementById||document.layers)?event:null);" onkeyup="WWHHandleKeyUp((document.all||document.getElementById||document.layers)?event:null);">
    <br />
    <div class="WebWorks_Breadcrumbs" style="text-align: left;">
      <a class="WebWorks_Breadcrumb_Link" href="_ace_live_user_guide_splash.html">User Guide</a> &gt; <a class="WebWorks_Breadcrumb_Link" href="wta.html">Web Transaction Analysis</a> &gt; <a class="WebWorks_Breadcrumb_Link" href="__web-console-navigator-wta.083.1.html"> WTA (Web Transaction Analysis) Navigators</a> &gt; WTA Navigator Configuration Options</div>
    <hr align="left" />
    <blockquote>
      <div class="h2"><a name="1000032">WTA Navigator Configuration Options</a></div>
      <div class="bodyIntro"><a name="1000035">The following configuration options are available for </a><span class="HTBlue"><a href="javascript:WWHClickedPopup('main_doc', '__web-console-navigator-wta.083.1.html', '');" title="WTA (Web Transaction Analysis) Navigators">WTA (Web Transaction Analysis) Navigators</a></span>:</div>
      <div class="listBullet_outer" style="margin-left: 0pt">
        <table border="0" cellspacing="0" cellpadding="0" summary="" role="presentation">
          <tr style="vertical-align: baseline">
            <td>
              <div class="listBullet_inner" style="width: 16.128pt; white-space: nowrap">
                <span style="color: #000000; font-family: Arial; font-size: 7.0pt; font-style: normal; font-variant: normal; font-weight: normal; text-transform: none; vertical-align: baseline">
                  <img src="HTML_Bullet.gif" alt="*" border="0" width="5" height="7" />
                </span>
              </div>
            </td>
            <td width="100%">
              <div class="listBullet_inner"><span class="HTBlue"><a href="javascript:WWHClickedPopup('main_doc', '__web-console-navigator-wta.083.5.html#1035681', '');" title="WTA Navigator Configuration Options" name="1035894">User Counts View Option: Customizing Counting of Unique Users</a></span></div>
            </td>
          </tr>
        </table>
      </div>
      <div class="listBullet_outer" style="margin-left: 0pt">
        <table border="0" cellspacing="0" cellpadding="0" summary="" role="presentation">
          <tr style="vertical-align: baseline">
            <td>
              <div class="listBullet_inner" style="width: 16.128pt; white-space: nowrap">
                <span style="color: #000000; font-family: Arial; font-size: 7.0pt; font-style: normal; font-variant: normal; font-weight: normal; text-transform: none; vertical-align: baseline">
                  <img src="HTML_Bullet.gif" alt="*" border="0" width="5" height="7" />
                </span>
              </div>
            </td>
            <td width="100%">
              <div class="listBullet_inner"><span class="HTBlue"><a href="javascript:WWHClickedPopup('main_doc', '__web-console-navigator-wta.083.5.html#1035872', '');" title="WTA Navigator Configuration Options" name="1035887">User Counts View Option: Reset User Counts at Midnight (Appliance Time or UTC)</a></span></div>
            </td>
          </tr>
        </table>
      </div>
      <div class="listBullet_outer" style="margin-left: 0pt">
        <table border="0" cellspacing="0" cellpadding="0" summary="" role="presentation">
          <tr style="vertical-align: baseline">
            <td>
              <div class="listBullet_inner" style="width: 16.128pt; white-space: nowrap">
                <span style="color: #000000; font-family: Arial; font-size: 7.0pt; font-style: normal; font-variant: normal; font-weight: normal; text-transform: none; vertical-align: baseline">
                  <img src="HTML_Bullet.gif" alt="*" border="0" width="5" height="7" />
                </span>
              </div>
            </td>
            <td width="100%">
              <div class="listBullet_inner"><span class="HTBlue"><a href="javascript:WWHClickedPopup('main_doc', '__web-console-navigator-wta.083.5.html#1000057', '');" title="WTA Navigator Configuration Options" name="1000044">GeoMap View Configuration: Map Private IPs to Geographic Regions</a></span></div>
            </td>
          </tr>
        </table>
      </div>
      <div class="h3NoBreak"><a name="1035681">User Counts View Option: Customizing Counting of Unique Users</a></div>
      <div class="bodyIntro"><a name="1035682">The User Counts Navigator tracks the number of unique and impacted page users per day. You can customize how Web Transaction Analysis (WTA) calculates the number of unique users shown in this Navigator. WTA can consider any combination of the following criteria to determine whether a user is unique:</a></div>
      <div class="listBullet_outer" style="margin-left: 0pt">
        <table border="0" cellspacing="0" cellpadding="0" summary="" role="presentation">
          <tr style="vertical-align: baseline">
            <td>
              <div class="listBullet_inner" style="width: 16.128pt; white-space: nowrap">
                <span style="color: #000000; font-family: Arial; font-size: 7.0pt; font-style: normal; font-variant: normal; font-weight: normal; text-transform: none; vertical-align: baseline">
                  <img src="HTML_Bullet.gif" alt="*" border="0" width="5" height="7" />
                </span>
              </div>
            </td>
            <td width="100%">
              <div class="listBullet_inner"><a name="1035817">Originating IP</a></div>
            </td>
          </tr>
        </table>
      </div>
      <div class="listBullet_outer" style="margin-left: 0pt">
        <table border="0" cellspacing="0" cellpadding="0" summary="" role="presentation">
          <tr style="vertical-align: baseline">
            <td>
              <div class="listBullet_inner" style="width: 16.128pt; white-space: nowrap">
                <span style="color: #000000; font-family: Arial; font-size: 7.0pt; font-style: normal; font-variant: normal; font-weight: normal; text-transform: none; vertical-align: baseline">
                  <img src="HTML_Bullet.gif" alt="*" border="0" width="5" height="7" />
                </span>
              </div>
            </td>
            <td width="100%">
              <div class="listBullet_inner"><a name="1035818">Client IP</a></div>
            </td>
          </tr>
        </table>
      </div>
      <div class="listBullet_outer" style="margin-left: 0pt">
        <table border="0" cellspacing="0" cellpadding="0" summary="" role="presentation">
          <tr style="vertical-align: baseline">
            <td>
              <div class="listBullet_inner" style="width: 16.128pt; white-space: nowrap">
                <span style="color: #000000; font-family: Arial; font-size: 7.0pt; font-style: normal; font-variant: normal; font-weight: normal; text-transform: none; vertical-align: baseline">
                  <img src="HTML_Bullet.gif" alt="*" border="0" width="5" height="7" />
                </span>
              </div>
            </td>
            <td width="100%">
              <div class="listBullet_inner"><a name="1035819">User Agent</a></div>
            </td>
          </tr>
        </table>
      </div>
      <div class="listBullet_outer" style="margin-left: 0pt">
        <table border="0" cellspacing="0" cellpadding="0" summary="" role="presentation">
          <tr style="vertical-align: baseline">
            <td>
              <div class="listBullet_inner" style="width: 16.128pt; white-space: nowrap">
                <span style="color: #000000; font-family: Arial; font-size: 7.0pt; font-style: normal; font-variant: normal; font-weight: normal; text-transform: none; vertical-align: baseline">
                  <img src="HTML_Bullet.gif" alt="*" border="0" width="5" height="7" />
                </span>
              </div>
            </td>
            <td width="100%">
              <div class="listBullet_inner"><a name="1035686">User ID </a></div>
            </td>
          </tr>
        </table>
      </div>
      <div class="body"><a name="1035688">By default, WTA considers the Client IP, Originating IP, and user agent to track users; each user has a unique combination of all three attributes.</a></div>
      <div class="body"><a name="1035690">To change the set of attributes used by WTA to count unique users, log in to the appliance CLI as Administrator and enter the following command with a space-separated list of attributes:</a></div>
      <div class="codeColumn"><a name="1035692">WTA-GeoConfig unique-user-tracking-user-identification </a><span class="italic">[new list of attributes]</span></div>
      <div class="body"><a name="1035694">The following example shows the command with the list of all possible attributes:</a></div>
      <div class="codeColumn"><a name="1035696">WTA-GeoConfig unique-user-tracking-user-identification client-ip originating-ip user-agent user-id</a></div>
      <div class="bodyIntro"><a name="1035701">Note the following: </a></div>
      <div class="listBullet_outer" style="margin-left: 0pt">
        <table border="0" cellspacing="0" cellpadding="0" summary="" role="presentation">
          <tr style="vertical-align: baseline">
            <td>
              <div class="listBullet_inner" style="width: 16.128pt; white-space: nowrap">
                <span style="color: #000000; font-family: Arial; font-size: 7.0pt; font-style: normal; font-variant: normal; font-weight: normal; text-transform: none; vertical-align: baseline">
                  <img src="HTML_Bullet.gif" alt="*" border="0" width="5" height="7" />
                </span>
              </div>
            </td>
            <td width="100%">
              <div class="listBullet_inner"><a name="1035702">Any change to the attribute list can affect the potential number of unique users calculated. The more attributes in the list, the stricter the definition of a “unique user” and the more potential unique users for any given traffic sample. </a></div>
            </td>
          </tr>
        </table>
      </div>
      <div class="listBullet_outer" style="margin-left: 0pt">
        <table border="0" cellspacing="0" cellpadding="0" summary="" role="presentation">
          <tr style="vertical-align: baseline">
            <td>
              <div class="listBullet_inner" style="width: 16.128pt; white-space: nowrap">
                <span style="color: #000000; font-family: Arial; font-size: 7.0pt; font-style: normal; font-variant: normal; font-weight: normal; text-transform: none; vertical-align: baseline">
                  <img src="HTML_Bullet.gif" alt="*" border="0" width="5" height="7" />
                </span>
              </div>
            </td>
            <td width="100%">
              <div class="listBullet_inner"><a name="1035703">Any change you make to the tracking criteria will not take effect until the end of the current day. This is intentional behavior to ensure that user metrics for the current day (such as “Daily Unique Users (Today)”) are calculated using consistent criteria.</a></div>
            </td>
          </tr>
        </table>
      </div>
      <div class="h3NoBreak"><a name="1035872">User Counts View Option: Reset User Counts at Midnight (Appliance Time or UTC)</a></div>
      <div class="body"><a name="1000050">The </a><span class="HTBlue"><a href="javascript:WWHClickedPopup('main_doc', '__web-console-navigator-wta.083.2.html', '');" title="User Counts">User Counts</a></span> Navigator tracks the number of unique and impacted page users per day. Every day at midnight, the appliance stops counting users for the previous day and starts counting users for the next day.</div>
      <div class="body"><a name="1000051">By default, “midnight” is based on the local time of the appliance. This is usually the desired behavior if your appliances are centralized in one location such as a data center. If you have appliances distributed across multiple time zones, you might want to have all appliances reset their user counts at the same absolute time. </a></div>
      <div class="bodyIntro"><a name="1000052">To configure the appliance to reset its user counts at midnight UTC (Coordinated Universal Time), log in to the appliance CLI as Administrator and enter the following command:</a></div>
      <div class="codeColumn"><a name="1000053">WTA-GeoConfig unique-user-tracking-day-boundary-utc</a></div>
      <div class="bodyIntro"><a name="1000054">To revert to the default behavior, and reset the user counts at midnight local time, enter the following command:</a></div>
      <div class="codeColumn"><a name="1000055">WTA-GeoConfig unique-user-tracking-day-boundary-local</a></div>
      <div class="h3NoBreak"><a name="1000057">GeoMap View Configuration: Map Private IPs to Geographic Regions</a></div>
      <div class="body"><a name="1000061">The AppResponse Web Console includes a GeoMap View Navigator, which collects and reports the geographic locations of page views for monitored Web Applications. You can customize how the appliance maps IPs to geographic regions. This is usually necessary if you want to collect geographic information on private network IPs (since these IP locations are not public knowledge). You can also use the following method to override the default locations for public IPs.</a></div>
      <div class="bodyIntro"><a name="1000062">The following steps outline the workflow: </a></div>
      <div class="listNum_outer" style="margin-left: 0pt">
        <table border="0" cellspacing="0" cellpadding="0" summary="" role="presentation">
          <tr style="vertical-align: baseline">
            <td>
              <div class="listNum_inner" style="width: 16.128pt; white-space: nowrap">	1)	</div>
            </td>
            <td width="100%">
              <div class="listNum_inner"><a name="1000065">Create a CSV file in the format described in </a><span class="HTBlue"><a href="javascript:WWHClickedPopup('main_doc', '__web-console-navigator-wta.083.5.html#1000080', '');" title="WTA Navigator Configuration Options">IP-to-Region Custom Mapping File Format</a></span>.</div>
            </td>
          </tr>
        </table>
      </div>
      <div class="listNum_outer" style="margin-left: 0pt">
        <table border="0" cellspacing="0" cellpadding="0" summary="" role="presentation">
          <tr style="vertical-align: baseline">
            <td>
              <div class="listNum_inner" style="width: 16.128pt; white-space: nowrap">	2)	</div>
            </td>
            <td width="100%">
              <div class="listNum_inner"><a name="1000067">Place the CSV file on a remote host that can connect to the appliance over an SSH connection.</a></div>
            </td>
          </tr>
        </table>
      </div>
      <div class="listNum_outer" style="margin-left: 0pt">
        <table border="0" cellspacing="0" cellpadding="0" summary="" role="presentation">
          <tr style="vertical-align: baseline">
            <td>
              <div class="listNum_inner" style="width: 16.128pt; white-space: nowrap">	3)	</div>
            </td>
            <td width="100%">
              <div class="listNum_inner"><a name="1000068">To add the file to the appliance, run one of the following commands from the remote host:</a></div>
            </td>
          </tr>
        </table>
      </div>
      <div class="listNumSubAltIntro" style="color: #000000; font-style: italic; font-variant: normal; font-weight: normal; text-transform: none; vertical-align: baseline"><span class="italic"><a name="1000069">Windows host (all on one line):</a></span></div>
      <div class="listNumSubCont"><span class="code"><a name="1000461">plink.exe -ssh -pw [</a></span><span class="italic">admin-password</span><span class="code" style="font-style: normal">] [</span><span class="italic">admin-username</span><span class="code" style="font-style: normal">]@[</span><span class="italic">appliance-name</span><span class="code" style="font-style: normal">] WTA-GeoConfig add-private-ip-geo-data &lt; [</span><span class="italic">input-file</span><span class="code" style="font-style: normal">]</span></div>
      <div class="listNumSubAltIntro" style="color: #000000; font-style: italic; font-variant: normal; font-weight: normal; text-transform: none; vertical-align: baseline"><span class="italic"><a name="1000071">UNIX host (all on one line):</a></span></div>
      <div class="listNumSubCont"><span class="code"><a name="1000473">ssh [</a></span><span class="italic">admin-username</span><span class="code" style="font-style: normal">]@[appliance-name] WTA-GeoConfig add-private-ip-geo-data &lt; [input-file]</span> </div>
      <div class="listNum_outer" style="margin-left: 0pt">
        <table border="0" cellspacing="0" cellpadding="0" summary="" role="presentation">
          <tr style="vertical-align: baseline">
            <td>
              <div class="listNum_inner" style="width: 16.128pt; white-space: nowrap">	4)	</div>
            </td>
            <td width="100%">
              <div class="listNum_inner"><a name="1000073">The appliance CLI also supports the following commands.</a></div>
            </td>
          </tr>
        </table>
      </div>
      <div class="listNumCont"><a name="1000075">To delete the current custom mapping on the appliance and revert to the default, enter the following:</a></div>
      <div class="listNumCont"><span class="code"><a name="1000076">WTA-GeoConfig delete-private-ip-geo-data</a></span> </div>
      <div class="listNumCont"><a name="1000077">To view the current geographic mapping, enter the following:</a></div>
      <div class="listNumCont"><span class="code"><a name="1000078">WTA-GeoConfig view-private-ip-geo-data</a></span> </div>
      <div class="h4"><a name="1000080">IP-to-Region Custom Mapping File Format</a></div>
      <div class="bodyIntro"><a name="1000081">To customize the mapping of IPs to geographic regions, create a CSV file in the following format:</a></div>
      <div class="figCaptionPage_outer" style="margin-left: 0pt">
        <table border="0" cellspacing="0" cellpadding="0" summary="" role="presentation">
          <tr style="vertical-align: baseline">
            <td>
              <div class="figCaptionPage_inner" style="width: 63.792pt; white-space: nowrap">
                <span class="bold">Figure&nbsp;4     </span>
              </div>
            </td>
            <td width="100%">
              <div class="figCaptionPage_inner"><a name="1000082">IP-to-Region Custom Mapping File Format</a></div>
            </td>
          </tr>
        </table>
      </div>
      <div class="codeColumn"><a name="1000083"># Mapping file has the following comma-separated fields per line:<br /># 1) IP address, IP range, or CIDR prefix/mask <br /># 2) Country code - 3 characters <br /># 3) Region code - 2 characters <br /># 4) Latitude - optional (reserved for future use)<br /># 5) Longitude - optional (reserved for future use)</a></div>
      <div class="codeColumn"><a name="1000084"># Note--version:1 (all lowercase) is required at start of file<br /><br /># Example:<br />version:1<br />127.0.0.0, DNK, 17 <br />172.16.6.6-172.16.6.220, USA, CA <br />172.16.6.6/24, JPN, 27</a></div>
      <div class="bodyIntro"><a name="1000085">Note the following:</a></div>
      <div class="listBullet_outer" style="margin-left: 0pt">
        <table border="0" cellspacing="0" cellpadding="0" summary="" role="presentation">
          <tr style="vertical-align: baseline">
            <td>
              <div class="listBullet_inner" style="width: 16.128pt; white-space: nowrap">
                <span style="color: #000000; font-family: Arial; font-size: 7.0pt; font-style: normal; font-variant: normal; font-weight: normal; text-transform: none; vertical-align: baseline">
                  <img src="HTML_Bullet.gif" alt="*" border="0" width="5" height="7" />
                </span>
              </div>
            </td>
            <td width="100%">
              <div class="listBullet_inner"><a name="1000086">The CSV file must start with the following line: all lowercase, with no blank line afterwards:</a></div>
            </td>
          </tr>
        </table>
      </div>
      <div class="listBulletSubCont" style="color: #000000; font-style: normal; font-variant: normal; font-weight: normal; text-transform: none; vertical-align: baseline"><span class="code"><a name="1000087">version:1</a></span></div>
      <div class="listBullet_outer" style="margin-left: 0pt">
        <table border="0" cellspacing="0" cellpadding="0" summary="" role="presentation">
          <tr style="vertical-align: baseline">
            <td>
              <div class="listBullet_inner" style="width: 16.128pt; white-space: nowrap">
                <span style="color: #000000; font-family: Arial; font-size: 7.0pt; font-style: normal; font-variant: normal; font-weight: normal; text-transform: none; vertical-align: baseline">
                  <img src="HTML_Bullet.gif" alt="*" border="0" width="5" height="7" />
                </span>
              </div>
            </td>
            <td width="100%">
              <div class="listBullet_inner"><a name="1000090">For a list of country and region codes, go to the Riverbed Knowledge Base (</a><span class="HTBlue"><a href="http://supportkb.riverbed.com" target="external_window">http://supportkb.riverbed.com</a></span>) and search for solution number <span class="codebold">S23787</span>.</div>
            </td>
          </tr>
        </table>
      </div>
      <div class="listBullet_outer" style="margin-left: 0pt">
        <table border="0" cellspacing="0" cellpadding="0" summary="" role="presentation">
          <tr style="vertical-align: baseline">
            <td>
              <div class="listBullet_inner" style="width: 16.128pt; white-space: nowrap">
                <span style="color: #000000; font-family: Arial; font-size: 7.0pt; font-style: normal; font-variant: normal; font-weight: normal; text-transform: none; vertical-align: baseline">
                  <img src="HTML_Bullet.gif" alt="*" border="0" width="5" height="7" />
                </span>
              </div>
            </td>
            <td width="100%">
              <div class="listBullet_inner"><a name="963220">If your custom mappings have overlapping IP ranges, you might experience unpredictable results.</a></div>
            </td>
          </tr>
        </table>
      </div>
      <script type="text/javascript" language="JavaScript1.2">
        <!--
          // Clear related topics
          //
          WWHClearRelatedTopics();

          document.writeln(WWHRelatedTopicsInlineHTML());
        // -->
      </script>
    </blockquote>
    <script type="text/javascript" language="JavaScript1.2">
      <!--
        document.write(WWHRelatedTopicsDivTag() + WWHPopupDivTag() + WWHALinksDivTag());
      // -->
    </script>
    <div style="font-size: 8pt; font-family: arial; text-align: left; text-decoration: none;">
      <a href="../wwhelp/wwhimpl/common/html/default.htm">Home</a> | <a href="#" title="To the top of this page">Back to Top</a><br /><br />© 2014 Riverbed Technology.
  All Rights Reserved. This software may be covered by one or more U.S. Patents. See complete patent notice in the <a href="../Notices/ace_live_copy_info_wwp.html">Legal Notices</a> section. <br /><a href="http://www.riverbed.com/support/" style="text-decoration: none" target="_blank"> Riverbed Support</a><br /></div>
  </body>
</html>