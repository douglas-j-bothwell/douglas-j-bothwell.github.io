<?xml version="1.0" encoding="utf-8"?>
<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xml:lang="en" lang="en" xmlns="http://www.w3.org/1999/xhtml">
  <head>
    <meta http-equiv="Content-Type" content="text/html;charset=utf-8" />
    <meta http-equiv="Content-Style-Type" content="text/css" />
    <title>Time-Based Metric Aggregation</title>
    <link rel="StyleSheet" href="css/metrics_misc_aggregation.css" type="text/css" media="all" />
    <link rel="StyleSheet" href="css/webworks.css" type="text/css" media="all" />
    <script type="text/javascript" language="JavaScript1.2" src="wwhdata/common/context.js"></script>
    <script type="text/javascript" language="JavaScript1.2" src="wwhdata/common/towwhdir.js"></script>
    <script type="text/javascript" language="JavaScript1.2" src="wwhdata/common/wwhpagef.js"></script>
    <script type="text/javascript" language="JavaScript1.2">
      <!--
        var  WebWorksRootPath = "";
      // -->
    </script>
    <script type="text/javascript" language="JavaScript1.2">
      <!--
        // Set reference to top level help frame
        //
        var  WWHFrame = WWHGetWWHFrame("", true);
      // -->
    </script>
    <script type="text/javascript" language="JavaScript1.2" src="scripts/expand.js"></script>
  </head>
  <body style="margin-left: 2%; margin-right: 2%" onload="WWHUpdate();" onunload="WWHUnload();" onkeydown="WWHHandleKeyDown((document.all||document.getElementById||document.layers)?event:null);" onkeypress="WWHHandleKeyPress((document.all||document.getElementById||document.layers)?event:null);" onkeyup="WWHHandleKeyUp((document.all||document.getElementById||document.layers)?event:null);">
    <br />
    <div class="WebWorks_Breadcrumbs" style="text-align: left;">
      <a class="WebWorks_Breadcrumb_Link" href="_ace_live_user_guide_splash.html">User Guide</a> &gt; <a class="WebWorks_Breadcrumb_Link" href="metrics.html">Metrics</a> &gt; <a class="WebWorks_Breadcrumb_Link" href="metrics_misc.html">Metric Topics - Miscellaneous</a> &gt; Time-Based Metric Aggregation</div>
    <hr align="left" />
    <blockquote>
      <div class="h2"><a name="1048225">Time-Based Metric Aggregation</a></div>
      <div class="body"><a name="1048229">The appliance extracts metric information from packet headers for each network session in real time. This metric information is stored in the appliance database for each group at 1-minute granularity. This represents the finest granularity data that is available for any group. In other words, it is possible to see the average Round Trip Time recorded for all sessions over a 1-minute interval for a particular group. It is not possible to see the Round Trip Time for a single TCP turn or for any group at a time granularity smaller than 1 minute.</a></div>
      <div class="bodyKeyConcept">
        <span class="zBlueItalics">Key Concept—</span><a name="1048368">You should carefully consider the amount of disk space on your appliance when you define your Business Groups and the number of Defined and Undefined Applications for which traffic is seen in each Business Group. Web Applications can be especially intensive in terms of disk space. When the appliance runs out of disk space, it will overwrite the oldest retained data.</a></div>
      <div class="body"><a name="1048230">In order to store metric information for each group over a long period of time, the 1-minute data is gradually aggregated into longer intervals over time: from 1-minute to 5-minute to 1-hour and finally to 1-day intervals. This allows data to be stored longer, at the cost of decreasing granularity.</a></div>
      <div class="body"><a name="1048231">The 1-minute and 5-minute metrics are aligned to the beginning of the hour. For instance, the first 5-minute metrics are stored at 5 minutes past the hour. The next set of 5-minute metrics are stored at 10 minutes past the hour. Similarly, the 1-hour metrics are aligned to midnight. The 1-day metrics start at midnight GMT.</a></div>
      <div class="body"><a name="1048235">The appliance automatically selects the metric granularity displayed within charts. The algorithm used to select granularity takes into account the time selection and the resolution available on the display screen to select a metric granularity that generates visually appealing charts. This automatic selection can be changed manually for any console view using the granularity control.  </a></div>
      <div class="h2NoBreak"><a name="1048247">Aggregation and Disk Storage</a></div>
      <div class="bodyIntro"><a name="1048251">The appliance continuously monitors disk capacity to ensure that it doesn’t run out of space. When disk utilization exceeds 90%, the appliance generates an SNMP alert and begins to remove older data to bring disk utilization to below 85% in the following order:</a></div>
      <div class="listNum_outer" style="margin-left: 0pt">
        <table border="0" cellspacing="0" cellpadding="0" summary="" role="presentation">
          <tr style="vertical-align: baseline">
            <td>
              <div class="listNum_inner" style="width: 16.128pt; white-space: nowrap">	1)	</div>
            </td>
            <td width="100%">
              <div class="listNum_inner"><a name="1048255">Clears 1 minute data older than 14 days (in steps of 2 days)</a></div>
            </td>
          </tr>
        </table>
      </div>
      <div class="listNum_outer" style="margin-left: 0pt">
        <table border="0" cellspacing="0" cellpadding="0" summary="" role="presentation">
          <tr style="vertical-align: baseline">
            <td>
              <div class="listNum_inner" style="width: 16.128pt; white-space: nowrap">	2)	</div>
            </td>
            <td width="100%">
              <div class="listNum_inner"><a name="1048256">Clears all 5 minute data older than 1 month (in steps of 1 week)</a></div>
            </td>
          </tr>
        </table>
      </div>
      <div class="listNum_outer" style="margin-left: 0pt">
        <table border="0" cellspacing="0" cellpadding="0" summary="" role="presentation">
          <tr style="vertical-align: baseline">
            <td>
              <div class="listNum_inner" style="width: 16.128pt; white-space: nowrap">	3)	</div>
            </td>
            <td width="100%">
              <div class="listNum_inner"><a name="1048257">Clears all 1 minute data older than 2 days (in steps of 1 day)</a></div>
            </td>
          </tr>
        </table>
      </div>
      <div class="listNum_outer" style="margin-left: 0pt">
        <table border="0" cellspacing="0" cellpadding="0" summary="" role="presentation">
          <tr style="vertical-align: baseline">
            <td>
              <div class="listNum_inner" style="width: 16.128pt; white-space: nowrap">	4)	</div>
            </td>
            <td width="100%">
              <div class="listNum_inner"><a name="1048258">Clears all 5 minute data older than 20 days (in steps of 5 days)</a></div>
            </td>
          </tr>
        </table>
      </div>
      <div class="listNum_outer" style="margin-left: 0pt">
        <table border="0" cellspacing="0" cellpadding="0" summary="" role="presentation">
          <tr style="vertical-align: baseline">
            <td>
              <div class="listNum_inner" style="width: 16.128pt; white-space: nowrap">	5)	</div>
            </td>
            <td width="100%">
              <div class="listNum_inner"><a name="1048259">Clears all 1 minute data older than 12 hours</a></div>
            </td>
          </tr>
        </table>
      </div>
      <div class="listNum_outer" style="margin-left: 0pt">
        <table border="0" cellspacing="0" cellpadding="0" summary="" role="presentation">
          <tr style="vertical-align: baseline">
            <td>
              <div class="listNum_inner" style="width: 16.128pt; white-space: nowrap">	6)	</div>
            </td>
            <td width="100%">
              <div class="listNum_inner"><a name="1048260">Clears all 5 minute data older than 10 days</a></div>
            </td>
          </tr>
        </table>
      </div>
      <div class="listNum_outer" style="margin-left: 0pt">
        <table border="0" cellspacing="0" cellpadding="0" summary="" role="presentation">
          <tr style="vertical-align: baseline">
            <td>
              <div class="listNum_inner" style="width: 16.128pt; white-space: nowrap">	7)	</div>
            </td>
            <td width="100%">
              <div class="listNum_inner"><a name="1048261">Clears all 1 hour data older than 3 months</a></div>
            </td>
          </tr>
        </table>
      </div>
      <div class="body"><a name="1048262">At this point, if disk space still exceeds 85%, data acquisition is paused until more disk space is made available. </a></div>
      <div class="h2NoBreak"><a name="1048264">Business Group and Application Impact</a></div>
      <div class="body"><a name="1048268">This aggregation schedule ensures that the appliance does not run out of disk space. However, unexpected network activity, such as an unusually high number of unique IP addresses may cause data to grow more rapidly than can be handled safely by this aggregation schedule.</a></div>
      <script type="text/javascript" language="JavaScript1.2">
        <!--
          // Clear related topics
          //
          WWHClearRelatedTopics();

          document.writeln(WWHRelatedTopicsInlineHTML());
        // -->
      </script>
    </blockquote>
    <script type="text/javascript" language="JavaScript1.2">
      <!--
        document.write(WWHRelatedTopicsDivTag() + WWHPopupDivTag() + WWHALinksDivTag());
      // -->
    </script>
    <div style="font-size: 8pt; font-family: arial; text-align: left; text-decoration: none;">
      <a href="../wwhelp/wwhimpl/common/html/default.htm">Home</a> | <a href="#" title="To the top of this page">Back to Top</a><br /><br />© 2014 Riverbed Technology.
  All Rights Reserved. This software may be covered by one or more U.S. Patents. See complete patent notice in the <a href="../Notices/ace_live_copy_info_wwp.html">Legal Notices</a> section. <br /><a href="http://www.riverbed.com/support/" style="text-decoration: none" target="_blank"> Riverbed Support</a><br /></div>
  </body>
</html>