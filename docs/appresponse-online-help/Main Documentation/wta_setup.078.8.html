<?xml version="1.0" encoding="utf-8"?>
<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xml:lang="en" lang="en" xmlns="http://www.w3.org/1999/xhtml">
  <head>
    <meta http-equiv="Content-Type" content="text/html;charset=utf-8" />
    <meta http-equiv="Content-Style-Type" content="text/css" />
    <title>NT LAN Manager (NTLM) Support</title>
    <link rel="StyleSheet" href="css/wta_setup.css" type="text/css" media="all" />
    <link rel="StyleSheet" href="css/webworks.css" type="text/css" media="all" />
    <script type="text/javascript" language="JavaScript1.2" src="wwhdata/common/context.js"></script>
    <script type="text/javascript" language="JavaScript1.2" src="wwhdata/common/towwhdir.js"></script>
    <script type="text/javascript" language="JavaScript1.2" src="wwhdata/common/wwhpagef.js"></script>
    <script type="text/javascript" language="JavaScript1.2">
      <!--
        var  WebWorksRootPath = "";
      // -->
    </script>
    <script type="text/javascript" language="JavaScript1.2">
      <!--
        // Set reference to top level help frame
        //
        var  WWHFrame = WWHGetWWHFrame("", true);
      // -->
    </script>
    <script type="text/javascript" language="JavaScript1.2" src="scripts/expand.js"></script>
  </head>
  <body style="margin-left: 2%; margin-right: 2%" onload="WWHUpdate();" onunload="WWHUnload();" onkeydown="WWHHandleKeyDown((document.all||document.getElementById||document.layers)?event:null);" onkeypress="WWHHandleKeyPress((document.all||document.getElementById||document.layers)?event:null);" onkeyup="WWHHandleKeyUp((document.all||document.getElementById||document.layers)?event:null);">
    <br />
    <div class="WebWorks_Breadcrumbs" style="text-align: left;">
      <a class="WebWorks_Breadcrumb_Link" href="_ace_live_user_guide_splash.html">User Guide</a> &gt; <a class="WebWorks_Breadcrumb_Link" href="wta.html">Web Transaction Analysis</a> &gt; <a class="WebWorks_Breadcrumb_Link" href="wta_setup.078.1.html">Setup: Web Transaction Analysis</a> &gt; NT LAN Manager (NTLM) Support </div>
    <hr align="left" />
    <blockquote>
      <div class="h2"><a name="1124048">NT LAN Manager (NTLM) Support </a></div>
      <div class="bodyIntro"><a name="1124049">Web Transaction Analysis can track users automatically in web traffic that uses the Windows NTLM (NT LAN Manager) protocol. </a></div>
      <div class="bodyNote">
        <span class="bold">Note: </span><a name="1124050">User tracking is supported only for NTLM traffic that uses Basic, NTLM, or Digest authentication. Other authentication methods are not supported.</a></div>
      <div class="bodyIntro"><a name="1124051">To track individual users, do the following:</a></div>
      <div class="listNum_outer" style="margin-left: 0pt">
        <table border="0" cellspacing="0" cellpadding="0" summary="" role="presentation">
          <tr style="vertical-align: baseline">
            <td>
              <div class="listNum_inner" style="width: 16.128pt; white-space: nowrap">	1)	</div>
            </td>
            <td width="100%">
              <div class="listNum_inner"><a name="1124052">Go to the Desktop Console &gt; Tools &gt; Pages &gt; User Session Tracking Manager and create a new profile.</a></div>
            </td>
          </tr>
        </table>
      </div>
      <div class="listNum_outer" style="margin-left: 0pt">
        <table border="0" cellspacing="0" cellpadding="0" summary="" role="presentation">
          <tr style="vertical-align: baseline">
            <td>
              <div class="listNum_inner" style="width: 16.128pt; white-space: nowrap">	2)	</div>
            </td>
            <td width="100%">
              <div class="listNum_inner"><a name="1124053">In the Parameter tabbed page, specify the following:</a></div>
            </td>
          </tr>
        </table>
      </div>
      <div class="listBulletSub_outer" style="margin-left: 16.128pt">
        <table border="0" cellspacing="0" cellpadding="0" summary="" role="presentation">
          <tr style="vertical-align: baseline">
            <td>
              <div class="listBulletSub_inner" style="width: 16.128pt; white-space: nowrap">–	</div>
            </td>
            <td width="100%">
              <div class="listBulletSub_inner"><a name="1124054">Name of User Key =</a><span class="codebold"> [NTLM]</span> </div>
            </td>
          </tr>
        </table>
      </div>
      <div class="listBulletSub_outer" style="margin-left: 16.128pt">
        <table border="0" cellspacing="0" cellpadding="0" summary="" role="presentation">
          <tr style="vertical-align: baseline">
            <td>
              <div class="listBulletSub_inner" style="width: 16.128pt; white-space: nowrap">–	</div>
            </td>
            <td width="100%">
              <div class="listBulletSub_inner"><a name="1124055">Name of Session Key =</a><span class="codebold"> [NTLM]</span> </div>
            </td>
          </tr>
        </table>
      </div>
      <div class="listNum_outer" style="margin-left: 0pt">
        <table border="0" cellspacing="0" cellpadding="0" summary="" role="presentation">
          <tr style="vertical-align: baseline">
            <td>
              <div class="listNum_inner" style="width: 16.128pt; white-space: nowrap">	3)	</div>
            </td>
            <td width="100%">
              <div class="listNum_inner"><a name="1124056">Make sure that all server IPs are specified in the Login Page &gt; Servers tab and Associated Pages &gt; Servers tab.</a></div>
            </td>
          </tr>
        </table>
      </div>
      <div class="listNum_outer" style="margin-left: 0pt">
        <table border="0" cellspacing="0" cellpadding="0" summary="" role="presentation">
          <tr style="vertical-align: baseline">
            <td>
              <div class="listNum_inner" style="width: 16.128pt; white-space: nowrap">	4)	</div>
            </td>
            <td width="100%">
              <div class="listNum_inner"><a name="1124058">Specify the following in the Login Page &gt; URLs tab and Associated Pages&nbsp;&gt; URLs tab:</a></div>
            </td>
          </tr>
        </table>
      </div>
      <div class="listNumCont"><a name="1124059">Host = </a><span class="codebold">*</span> </div>
      <div class="listNumCont"><a name="1124060">Path = </a><span class="codebold">/*</span> </div>
      <div class="listNumCont"><a name="1124061">This says: "Include all login and associated page views, regardless of URL, that include NTLM traffic." After you start seeing good results, you can fine-tune these settings to filter out irrelevant page views.</a></div>
      <div class="listNum_outer" style="margin-left: 0pt">
        <table border="0" cellspacing="0" cellpadding="0" summary="" role="presentation">
          <tr style="vertical-align: baseline">
            <td>
              <div class="listNum_inner" style="width: 16.128pt; white-space: nowrap">	5)	</div>
            </td>
            <td width="100%">
              <div class="listNum_inner"><a name="1124062">Save the User Session Tracking profile.</a></div>
            </td>
          </tr>
        </table>
      </div>
      <div class="listNum_outer" style="margin-left: 0pt">
        <table border="0" cellspacing="0" cellpadding="0" summary="" role="presentation">
          <tr style="vertical-align: baseline">
            <td>
              <div class="listNum_inner" style="width: 16.128pt; white-space: nowrap">	6)	</div>
            </td>
            <td width="100%">
              <div class="listNum_inner"><a name="1124063">Continue running Web Transaction Analysis with the new profile. Check the user tracking in the Individual Page Views insight. When you start seeing good results, return to the User Session Tracking Manager and refine the URLs you defined in </a><span class="HTBlue"><a href="javascript:WWHClickedPopup('main_doc', 'wta_setup.078.8.html#1124058', '');" title="NT LAN Manager (NTLM) Support">step&nbsp;4)</a></span> to filter out irrelevant pages.</div>
            </td>
          </tr>
        </table>
      </div>
      <div class="listNumCont"><span class="bold"><a name="1124067">Note—</a></span>If you do not see users appearing in the Individual Page Views insight, the traffic might be using an unsupported authentication method. To determine the method used, do the following: </div>
      <div class="listNumSub_outer" style="margin-left: 17.856pt">
        <table border="0" cellspacing="0" cellpadding="0" summary="" role="presentation">
          <tr style="vertical-align: baseline">
            <td>
              <div class="listNumSub_inner" style="width: 14.399999999999998pt; white-space: nowrap">a)	</div>
            </td>
            <td width="100%">
              <div class="listNumSub_inner"><a name="1124068">Download packets from the appliance for a time window and IP conversation that includes at least one complete NTLM challenge/response sequence.</a></div>
            </td>
          </tr>
        </table>
      </div>
      <div class="listNumSub_outer" style="margin-left: 17.856pt">
        <table border="0" cellspacing="0" cellpadding="0" summary="" role="presentation">
          <tr style="vertical-align: baseline">
            <td>
              <div class="listNumSub_inner" style="width: 14.399999999999998pt; white-space: nowrap">b)	</div>
            </td>
            <td width="100%">
              <div class="listNumSub_inner"><a name="1124069">Open the packets in either AppTransaction or Wireshark.</a></div>
            </td>
          </tr>
        </table>
      </div>
      <div class="listNumSub_outer" style="margin-left: 17.856pt">
        <table border="0" cellspacing="0" cellpadding="0" summary="" role="presentation">
          <tr style="vertical-align: baseline">
            <td>
              <div class="listNumSub_inner" style="width: 14.399999999999998pt; white-space: nowrap">c)	</div>
            </td>
            <td width="100%">
              <div class="listNumSub_inner"><a name="1124070">Using the Find Packets utility, search for packets that contain the string "</a><span class="code">Authorization:</span>". You should find a packet that includes an HTTP Request header with one of the following strings:</div>
            </td>
          </tr>
        </table>
      </div>
      <div class="listNumSubCont"><a name="1124071">"</a><span class="code">Authorization: NTLM</span>"</div>
      <div class="listNumSubCont"><a name="1124072">"</a><span class="code">Authorization: Basic</span>"</div>
      <div class="listNumSubCont"><a name="1124073">"</a><span class="code">Authorization: Digest</span>"</div>
      <div class="listNumSubCont"><a name="1124074">All of these authentication methods are supported.</a></div>
      <div class="listNumSubCont"><a name="1124080">If the string specifies a different method—for example, if the string reads "</a><span class="code">Authorization:&nbsp;Negotiate</span>"—the traffic does not use a supported authentication method. </div>
      <script type="text/javascript" language="JavaScript1.2">
        <!--
          // Clear related topics
          //
          WWHClearRelatedTopics();

          document.writeln(WWHRelatedTopicsInlineHTML());
        // -->
      </script>
    </blockquote>
    <script type="text/javascript" language="JavaScript1.2">
      <!--
        document.write(WWHRelatedTopicsDivTag() + WWHPopupDivTag() + WWHALinksDivTag());
      // -->
    </script>
    <div style="font-size: 8pt; font-family: arial; text-align: left; text-decoration: none;">
      <a href="../wwhelp/wwhimpl/common/html/default.htm">Home</a> | <a href="#" title="To the top of this page">Back to Top</a><br /><br />© 2014 Riverbed Technology.
  All Rights Reserved. This software may be covered by one or more U.S. Patents. See complete patent notice in the <a href="../Notices/ace_live_copy_info_wwp.html">Legal Notices</a> section. <br /><a href="http://www.riverbed.com/support/" style="text-decoration: none" target="_blank"> Riverbed Support</a><br /></div>
  </body>
</html>