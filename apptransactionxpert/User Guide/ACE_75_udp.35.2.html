<?xml version="1.0" encoding="utf-8"?>
<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xml:lang="en" lang="en" xmlns="http://www.w3.org/1999/xhtml">
  <head>
    <meta http-equiv="Content-Type" content="text/html;charset=utf-8" />
    <meta http-equiv="Content-Style-Type" content="text/css" />
    <!-- MOTW-DISABLED saved from url=(0014)about:internet -->
    <title>Why UDP Drop Response is Needed</title>
    <link rel="StyleSheet" href="css/ACE_75_udp.css" type="text/css" media="all" />
    <link rel="StyleSheet" href="css/webworks.css" type="text/css" media="all" />
    <script type="text/javascript" language="JavaScript1.2" src="wwhdata/common/context.js"></script>
    <script type="text/javascript" language="JavaScript1.2" src="wwhdata/common/towwhdir.js"></script>
    <script type="text/javascript" language="JavaScript1.2" src="wwhdata/common/wwhpagef.js"></script>
    <script type="text/javascript" language="JavaScript1.2">
      <!--
        var  WebWorksRootPath = "";
      // -->
    </script>
    <script type="text/javascript" language="JavaScript1.2">
      <!--
        // Set reference to top level help frame
        //
        var  WWHFrame = WWHGetWWHFrame("", true);
      // -->
    </script>
    <script type="text/javascript" language="JavaScript1.2">
      <!--
        function  WWHPDFLink()
        {
          return "ACE_75_udp.pdf";
        }
      // -->
    </script>
    <script type="text/javascript" language="JavaScript1.2" src="scripts/expand.js"></script>
  </head>
  <body style="margin-left: 2%; margin-right: 2%" onLoad="WWHUpdate();" onUnload="WWHUnload();" onKeyDown="WWHHandleKeyDown((document.all||document.getElementById||document.layers)?event:null);" onKeyPress="WWHHandleKeyPress((document.all||document.getElementById||document.layers)?event:null);" onKeyUp="WWHHandleKeyUp((document.all||document.getElementById||document.layers)?event:null);">
    <div style="font-family: arial; float: right; height: 1px;"><a><img src="images/blank.gif" height="0" width="0" border="0" alt="skip to main content" /></a></div>
    <br />
    <div class="WebWorks_Breadcrumbs" style="text-align: left;">User Guide &gt; <a class="WebWorks_Breadcrumb_Link" href="atx_edit_design_apps_whiteboard_splash.html#83775">Editing and Designing Applications with Transaction&nbsp;Whiteboard</a> &gt; <a class="WebWorks_Breadcrumb_Link" href="ACE_75_udp.35.1.html#83775">Modeling Applications over UDP with Transaction&nbsp;Whiteboard</a> &gt; Why UDP Drop Response is Needed</div>
    <hr align="left" />
    <blockquote>
      <div class="h1Top"><a name="83775">Why UDP Drop Response is Needed</a></div>
      <div class="body"><a name="83776">User Datagram Protocol (UDP) is a transport protocol that is used to send messages over the Internet. UDP does not provide the reliability and ordering of TCP: datagrams may arrive out of order, appear duplicated, or go missing without notice. Without the overhead of checking whether every packet actually arrived, UDP is faster and more efficient for many lightweight or time-sensitive purposes.</a></div>
      <div class="body"><a name="83778">An application running over UDP must be able to handle missing or duplicate packets. An application can handle a packet drop in many ways—from simply ignoring any drops, to retransmitting the missing packet until it reaches the destination.</a></div>
      <div class="h2NoBreak"><a name="83833">Effects of Packet Loss in Discrete Event Simulations</a></div>
      <div class="bodyIntro"><a name="83835">When traffic from a Transaction&nbsp;Analyzer model or a Transaction&nbsp;Whiteboard model is deployed in a discrete event simulation, the kernel reads the file and creates a list of actions to be executed.</a></div>
      <div class="figCaptionColumn_outer" style="margin-left: 0pt">
        <table border="0" cellspacing="0" cellpadding="0" summary="">
          <tr style="vertical-align: baseline;">
            <td>
              <div class="figCaptionColumn_inner" style="width: 63.7632pt; white-space: nowrap;">Figure&nbsp;28-1   </div>
            </td>
            <td width="100%">
              <div class="figCaptionColumn_inner"><a name="85426">Example Application</a></div>
            </td>
          </tr>
        </table>
      </div>
      <div class="figAnchor"><a name="85429"><img class="Default" src="images/ACE_75_udp.35.2.1.jpg" width="383" height="285" style="display: block; float: none; left: 0.0; top: 0.0" title="" /></a></div>
      <div class="figSpaceAfter"><a name="85430">&nbsp;</a></div>
      <div class="bodyIntro"><a name="85424">Consider the application in the above figure, which executes the following actions:</a></div>
      <div class="listNum_outer" style="margin-left: 0pt">
        <table border="0" cellspacing="0" cellpadding="0" summary="">
          <tr style="vertical-align: baseline;">
            <td>
              <div class="listNum_inner" style="width: 21.6pt; white-space: nowrap;">	1)	</div>
            </td>
            <td width="100%">
              <div class="listNum_inner"><a name="83851">Tier A sends packet 1 to Tier B</a></div>
            </td>
          </tr>
        </table>
      </div>
      <div class="listNum_outer" style="margin-left: 0pt">
        <table border="0" cellspacing="0" cellpadding="0" summary="">
          <tr style="vertical-align: baseline;">
            <td>
              <div class="listNum_inner" style="width: 21.6pt; white-space: nowrap;">	2)	</div>
            </td>
            <td width="100%">
              <div class="listNum_inner"><a name="83857">A waits 1 second </a></div>
            </td>
          </tr>
        </table>
      </div>
      <div class="listNum_outer" style="margin-left: 0pt">
        <table border="0" cellspacing="0" cellpadding="0" summary="">
          <tr style="vertical-align: baseline;">
            <td>
              <div class="listNum_inner" style="width: 21.6pt; white-space: nowrap;">	3)	</div>
            </td>
            <td width="100%">
              <div class="listNum_inner"><a name="83854">A sends packet 2 to B</a></div>
            </td>
          </tr>
        </table>
      </div>
      <div class="listNumCont"><span class="italic"><a name="83865">If B receives packet 2, then:</a></span> </div>
      <div class="listNum_outer" style="margin-left: 0pt">
        <table border="0" cellspacing="0" cellpadding="0" summary="">
          <tr style="vertical-align: baseline;">
            <td>
              <div class="listNum_inner" style="width: 21.6pt; white-space: nowrap;">	4)	</div>
            </td>
            <td width="100%">
              <div class="listNum_inner"><a name="83921">B processes packet 2 </a></div>
            </td>
          </tr>
        </table>
      </div>
      <div class="listNum_outer" style="margin-left: 0pt">
        <table border="0" cellspacing="0" cellpadding="0" summary="">
          <tr style="vertical-align: baseline;">
            <td>
              <div class="listNum_inner" style="width: 21.6pt; white-space: nowrap;">	5)	</div>
            </td>
            <td width="100%">
              <div class="listNum_inner"><a name="85875">B waits 1 second</a></div>
            </td>
          </tr>
        </table>
      </div>
      <div class="listNum_outer" style="margin-left: 0pt">
        <table border="0" cellspacing="0" cellpadding="0" summary="">
          <tr style="vertical-align: baseline;">
            <td>
              <div class="listNum_inner" style="width: 21.6pt; white-space: nowrap;">	6)	</div>
            </td>
            <td width="100%">
              <div class="listNum_inner"><a name="83852">B sends packet 3 to A</a></div>
            </td>
          </tr>
        </table>
      </div>
      <div class="listNumCont"><span class="italic"><a name="83906">If A receives packet 3, then:</a></span> </div>
      <div class="listNum_outer" style="margin-left: 0pt">
        <table border="0" cellspacing="0" cellpadding="0" summary="">
          <tr style="vertical-align: baseline;">
            <td>
              <div class="listNum_inner" style="width: 21.6pt; white-space: nowrap;">	7)	</div>
            </td>
            <td width="100%">
              <div class="listNum_inner"><a name="83939">A processes packet 3 </a></div>
            </td>
          </tr>
        </table>
      </div>
      <div class="listNum_outer" style="margin-left: 0pt">
        <table border="0" cellspacing="0" cellpadding="0" summary="">
          <tr style="vertical-align: baseline;">
            <td>
              <div class="listNum_inner" style="width: 21.6pt; white-space: nowrap;">	8)	</div>
            </td>
            <td width="100%">
              <div class="listNum_inner"><a name="85881">A waits 1 second</a></div>
            </td>
          </tr>
        </table>
      </div>
      <div class="listNumLast_outer" style="margin-left: 0pt">
        <table border="0" cellspacing="0" cellpadding="0" summary="">
          <tr style="vertical-align: baseline;">
            <td>
              <div class="listNumLast_inner" style="width: 21.6pt; white-space: nowrap;">	9)	</div>
            </td>
            <td width="100%">
              <div class="listNumLast_inner"><a name="83907">		A sends packet 4 to B</a></div>
            </td>
          </tr>
        </table>
      </div>
      <div class="body"><a name="83904">What happens if the application runs over UDP and packets are lost? If packet 1 is lost, the application can recover; but if packet 2 is lost, the application might be unable to recover. Unless the application has a recovery mechanism, B waits for packet 2 and might not continue (because it does not know how to handle lost packets).</a></div>
      <div class="body"><a name="84003">Now consider how a discrete event simulation might handle this. Without a recovery mechanism, the simulation cannot run the entire application if packets 2 or 3 are lost (that is, if either </a><span class="HTBlue"><a href="javascript:WWHClickedPopup('main_doc', 'ACE_75_udp.35.2.html#83854', '');" title="Why UDP Drop Response is Needed">step&nbsp;3)</a></span> or <span class="HTBlue"><a href="javascript:WWHClickedPopup('main_doc', 'ACE_75_udp.35.2.html#83852', '');" title="Why UDP Drop Response is Needed">step&nbsp;6)</a></span> do not complete successfully). If the application does not finish, the simulation cannot collect statistics for AppTransaction&nbsp;Xpert or Custom Application response times.</div>
      <div class="bodyIntro"><a name="84032">UDP Drop Response enables you to specify how a simulation handles lost packets. For example, you might want to specify a “time-out” mechanism that ensures that the application continues even if packets are lost: </a></div>
      <div class="listNum_outer" style="margin-left: 0pt">
        <table border="0" cellspacing="0" cellpadding="0" summary="">
          <tr style="vertical-align: baseline;">
            <td>
              <div class="listNum_inner" style="width: 21.6pt; white-space: nowrap;">	1)	</div>
            </td>
            <td width="100%">
              <div class="listNum_inner"><a name="84066">Tier sends packet</a></div>
            </td>
          </tr>
        </table>
      </div>
      <div class="listNum_outer" style="margin-left: 0pt">
        <table border="0" cellspacing="0" cellpadding="0" summary="">
          <tr style="vertical-align: baseline;">
            <td>
              <div class="listNum_inner" style="width: 21.6pt; white-space: nowrap;">	2)	</div>
            </td>
            <td width="100%">
              <div class="listNum_inner"><a name="84067">Simulation starts timer</a></div>
            </td>
          </tr>
        </table>
      </div>
      <div class="listNumCont" style="color: #000000; font-family: Helvetica; font-style: normal; font-variant: normal; font-weight: normal; text-transform: none; vertical-align: baseline"><span class="italic"><a name="84091">If packet is received OR if &lt;timeout_interval&gt; is reached, then:</a></span></div>
      <div class="listNumLast_outer" style="margin-left: 0pt">
        <table border="0" cellspacing="0" cellpadding="0" summary="">
          <tr style="vertical-align: baseline;">
            <td>
              <div class="listNumLast_inner" style="width: 21.6pt; white-space: nowrap;">	3)	</div>
            </td>
            <td width="100%">
              <div class="listNumLast_inner"><a name="84068">Continue running application</a></div>
            </td>
          </tr>
        </table>
      </div>
      <div class="bodyNote">
        <span class="bold">Note—</span><a name="84107">You must specify UDP Drop Response for applications over UDP, even if the application sends only one packet over a lossy link. Otherwise the application might never recover from a packet loss.</a></div>
      <script type="text/javascript" language="JavaScript1.2">
        <!--
          // Clear related topics
          //
          WWHClearRelatedTopics();

          document.writeln(WWHRelatedTopicsInlineHTML());
        // -->
      </script>
    </blockquote>
    <script type="text/javascript" language="JavaScript1.2">
      <!--
        document.write(WWHRelatedTopicsDivTag() + WWHPopupDivTag() + WWHALinksDivTag());
      // -->
    </script>
    <div style="font-size: 8pt; font-family: arial; text-align: left; text-decoration: none;">
      <a href="../wwhelp/wwhimpl/common/html/default.htm">Home</a> | <a href="#" title="To the top of this page">Back to Top</a><br /><br />© 2013 Riverbed Technology.
  All Rights Reserved. This software may be covered by one or more U.S. Patents. See complete patent notice in the <a href="../Notices/aceanalyst_copy_info_wwp.html">Legal Notices</a> section.<br /><a href="http://www.riverbed.com/support/" style="text-decoration: none" target="_blank"> Riverbed Support Center </a><br /></div>
  </body>
</html>