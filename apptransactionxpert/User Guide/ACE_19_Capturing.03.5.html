<?xml version="1.0" encoding="utf-8"?>
<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xml:lang="en" lang="en" xmlns="http://www.w3.org/1999/xhtml">
  <head>
    <meta http-equiv="Content-Type" content="text/html;charset=utf-8" />
    <meta http-equiv="Content-Style-Type" content="text/css" />
    <!-- MOTW-DISABLED saved from url=(0014)about:internet -->
    <title>Capturing Multi-Tier Transactions with Other Programs</title>
    <link rel="StyleSheet" href="css/ACE_19_Capturing.css" type="text/css" media="all" />
    <link rel="StyleSheet" href="css/webworks.css" type="text/css" media="all" />
    <script type="text/javascript" language="JavaScript1.2" src="wwhdata/common/context.js"></script>
    <script type="text/javascript" language="JavaScript1.2" src="wwhdata/common/towwhdir.js"></script>
    <script type="text/javascript" language="JavaScript1.2" src="wwhdata/common/wwhpagef.js"></script>
    <script type="text/javascript" language="JavaScript1.2">
      <!--
        var  WebWorksRootPath = "";
      // -->
    </script>
    <script type="text/javascript" language="JavaScript1.2">
      <!--
        // Set reference to top level help frame
        //
        var  WWHFrame = WWHGetWWHFrame("", true);
      // -->
    </script>
    <script type="text/javascript" language="JavaScript1.2">
      <!--
        function  WWHPDFLink()
        {
          return "ACE_19_Capturing.pdf";
        }
      // -->
    </script>
    <script type="text/javascript" language="JavaScript1.2" src="scripts/expand.js"></script>
  </head>
  <body style="margin-left: 2%; margin-right: 2%" onLoad="WWHUpdate();" onUnload="WWHUnload();" onKeyDown="WWHHandleKeyDown((document.all||document.getElementById||document.layers)?event:null);" onKeyPress="WWHHandleKeyPress((document.all||document.getElementById||document.layers)?event:null);" onKeyUp="WWHHandleKeyUp((document.all||document.getElementById||document.layers)?event:null);">
    <div style="font-family: arial; float: right; height: 1px;"><a><img src="images/blank.gif" height="0" width="0" border="0" alt="skip to main content" /></a></div>
    <br />
    <div class="WebWorks_Breadcrumbs" style="text-align: left;">User Guide &gt; <a class="WebWorks_Breadcrumb_Link" href="atx_capture_app_traffic_splash.html#100357">Capturing Application Traffic</a> &gt; <a class="WebWorks_Breadcrumb_Link" href="ACE_19_Capturing.03.1.html#100357">Capturing Application Traffic: Overview</a> &gt; Capturing Multi-Tier Transactions with Other Programs</div>
    <hr align="left" />
    <blockquote>
      <div class="h1Top"><a name="100357">Capturing Multi-Tier Transactions with Other Programs</a></div>
      <div class="bodyIntro"><a name="100358">This section describes a workflow for capturing multi-tier transactions with external tools (such as Network General’s Sniffer) and importing the resulting capture data. This workflow is useful if both of the following conditions are true:</a></div>
      <div class="listBullet_outer" style="margin-left: 0pt">
        <table border="0" cellspacing="0" cellpadding="0" summary="">
          <tr style="vertical-align: baseline;">
            <td>
              <div class="listBullet_inner" style="width: 14.4pt; white-space: nowrap;">•	</div>
            </td>
            <td width="100%">
              <div class="listBullet_inner"><a name="100359">You want to capture a multi-tier transaction from multiple network locations.</a></div>
            </td>
          </tr>
        </table>
      </div>
      <div class="listBullet_outer" style="margin-left: 0pt">
        <table border="0" cellspacing="0" cellpadding="0" summary="">
          <tr style="vertical-align: baseline;">
            <td>
              <div class="listBullet_inner" style="width: 14.4pt; white-space: nowrap;">•	</div>
            </td>
            <td width="100%">
              <div class="listBullet_inner"><a name="100360">You must use a third-party protocol analyzer or sniffer tool, and cannot use AppTransaction&nbsp;Xpert capture agents.</a></div>
            </td>
          </tr>
        </table>
      </div>
      <div class="bodyNote">
        <span class="bold">Note—</span><a name="100361">The AppTransaction&nbsp;Xpert capture utility is the preferable solution for capturing transactions from multiple locations, because you can start and stop all capture agents simultaneously from one location using Capture&nbsp;Manager (as described in </a><span class="HTBlue"><a href="javascript:WWHClickedPopup('main_doc', 'ace_appcap_overview_plus.04.18.html#239114', '');" title="Running a Capture">Running a Capture</a></span>). Therefore, use this workflow only if you must capture the transaction using external tools.</div>
      <div class="h2NoBreak"><a name="100363">Workflow Description</a></div>
      <div class="bodyIntro"><a name="100364">The following steps outline the workflow for capturing transactions from multiple locations using third-party tools:</a></div>
      <div class="listNum_outer" style="margin-left: 0pt">
        <table border="0" cellspacing="0" cellpadding="0" summary="">
          <tr style="vertical-align: baseline;">
            <td>
              <div class="listNum_inner" style="width: 21.6pt; white-space: nowrap;">	1)	</div>
            </td>
            <td width="100%">
              <div class="listNum_inner"><a name="100365">Start the sniffer or protocol analyzer.</a></div>
            </td>
          </tr>
        </table>
      </div>
      <div class="listNum_outer" style="margin-left: 0pt">
        <table border="0" cellspacing="0" cellpadding="0" summary="">
          <tr style="vertical-align: baseline;">
            <td>
              <div class="listNum_inner" style="width: 21.6pt; white-space: nowrap;">	2)	</div>
            </td>
            <td width="100%">
              <div class="listNum_inner"><a name="100639">Run one or more instances of the transaction, and send an ICMP ECHO message immediately before and after each instance.</a></div>
            </td>
          </tr>
        </table>
      </div>
      <div class="listNumCont"><a name="100366">Immediately before the transaction of interest is run, the initiating host must send a “transaction-start” ICMP ECHO message to every host capturing the transaction. AppTransaction&nbsp;Xpert uses these messages as markers to determine when individual transactions start. The packet&nbsp;traces must include these markers for AppTransaction&nbsp;Xpert to extract the relevant capture data.</a></div>
      <div class="listNum_outer" style="margin-left: 0pt">
        <table border="0" cellspacing="0" cellpadding="0" summary="">
          <tr style="vertical-align: baseline;">
            <td>
              <div class="listNum_inner" style="width: 21.6pt; white-space: nowrap;">	3)	</div>
            </td>
            <td width="100%">
              <div class="listNum_inner"><a name="100367">For each agent that will participate in the capture, make sure that the agent does not use the Default capture filter. The Default capture filter excludes ICMP traffic. (You can create a modified version of the Default filter that does not filter out ICMP traffic, which you can then use for this type of capture operation.)</a></div>
            </td>
          </tr>
        </table>
      </div>
      <div class="listNum_outer" style="margin-left: 0pt">
        <table border="0" cellspacing="0" cellpadding="0" summary="">
          <tr style="vertical-align: baseline;">
            <td>
              <div class="listNum_inner" style="width: 21.6pt; white-space: nowrap;">	4)	</div>
            </td>
            <td width="100%">
              <div class="listNum_inner"><a name="106733">Start the capture process on every host participating in the capture.</a></div>
            </td>
          </tr>
        </table>
      </div>
      <div class="listNum_outer" style="margin-left: 0pt">
        <table border="0" cellspacing="0" cellpadding="0" summary="">
          <tr style="vertical-align: baseline;">
            <td>
              <div class="listNum_inner" style="width: 21.6pt; white-space: nowrap;">	5)	</div>
            </td>
            <td width="100%">
              <div class="listNum_inner"><a name="100368">Run one or more instances of the transaction of interest, so that each transaction run (including the “transaction-start” message) is included in the resulting capture data.</a></div>
            </td>
          </tr>
        </table>
      </div>
      <div class="listNum_outer" style="margin-left: 0pt">
        <table border="0" cellspacing="0" cellpadding="0" summary="">
          <tr style="vertical-align: baseline;">
            <td>
              <div class="listNum_inner" style="width: 21.6pt; white-space: nowrap;">	6)	</div>
            </td>
            <td width="100%">
              <div class="listNum_inner"><a name="100369">Download all packet&nbsp;traces to the computer running AppTransaction&nbsp;Xpert.</a></div>
            </td>
          </tr>
        </table>
      </div>
      <div class="listNum_outer" style="margin-left: 0pt">
        <table border="0" cellspacing="0" cellpadding="0" summary="">
          <tr style="vertical-align: baseline;">
            <td>
              <div class="listNum_inner" style="width: 21.6pt; white-space: nowrap;">	7)	</div>
            </td>
            <td width="100%">
              <div class="listNum_inner"><a name="100372">Create transaction-specific packet&nbsp;traces, as described in </a><span class="HTBlue"><a href="javascript:WWHClickedPopup('main_doc', 'ACE_19_Capturing.03.5.html#133970', '');" title="Capturing Multi-Tier Transactions with Other Programs">Extracting Transaction Data from One or More Packet&nbsp;Traces</a></span>. </div>
            </td>
          </tr>
        </table>
      </div>
      <div class="listNumCont"><a name="100374">AppTransaction&nbsp;Xpert includes a Packet&nbsp;Trace File Slicer utility that reads the raw capture data and “slices” the data into separate transaction-specific packet&nbsp;traces that you can import. For each transaction, the slicer creates a set of packet&nbsp;traces (one per capture location) and places them into a separate subdirectory.</a></div>
      <div class="listNum_outer" style="margin-left: 0pt">
        <table border="0" cellspacing="0" cellpadding="0" summary="">
          <tr style="vertical-align: baseline;">
            <td>
              <div class="listNum_inner" style="width: 21.6pt; white-space: nowrap;">	8)	</div>
            </td>
            <td width="100%">
              <div class="listNum_inner"><a name="100375">Optionally, import the transaction-specific packet&nbsp;traces using Batch&nbsp;Analyzer.</a></div>
            </td>
          </tr>
        </table>
      </div>
      <div class="listNumContLast"><a name="133965">Batch&nbsp;Analyzer is useful for this workflow because you can import data for multiple transactions and create multiple Transaction&nbsp;Analyzer models in one operation. For more information, see </a><span class="HTBlue"><a href="javascript:WWHClickedPopup('main_doc', 'ace_import_overview.09.10.html#219533', '');" title="Batch Analyzer">Batch&nbsp;Analyzer</a></span>.</div>
      <div class="h2NoBreak"><a name="133970">Extracting Transaction Data from One or More Packet&nbsp;Traces</a></div>
      <div class="body"><span class="HTBlue"><a href="javascript:WWHClickedPopup('main_doc', 'ACE_19_Capturing.03.5.html#100397', '');" title="Capturing Multi-Tier Transactions with Other Programs" name="100382">Procedure&nbsp;3-3</a></span> describes how to use the Transaction Extractor utility to generate packet&nbsp;traces. This utility is intended for specific inputs and outputs.</div>
      <div class="h3NoBreak"><a name="100384">Input Requirements</a></div>
      <div class="bodyIntro"><a name="100385">The Transaction Extractor takes as inputs one or more packet&nbsp;traces. The packet&nbsp;traces often include irrelevant traffic. Note the following requirements:</a></div>
      <div class="listNum_outer" style="margin-left: 0pt">
        <table border="0" cellspacing="0" cellpadding="0" summary="">
          <tr style="vertical-align: baseline;">
            <td>
              <div class="listNum_inner" style="width: 21.6pt; white-space: nowrap;">	1)	</div>
            </td>
            <td width="100%">
              <div class="listNum_inner"><a name="100386">All packet&nbsp;traces in the operation must be roughly concurrent—that is, they must capture the same time window and the same set of transactions.</a></div>
            </td>
          </tr>
        </table>
      </div>
      <div class="listNumLast_outer" style="margin-left: 0pt">
        <table border="0" cellspacing="0" cellpadding="0" summary="">
          <tr style="vertical-align: baseline;">
            <td>
              <div class="listNumLast_inner" style="width: 21.6pt; white-space: nowrap;">	2)	</div>
            </td>
            <td width="100%">
              <div class="listNumLast_inner"><a name="100387">Before launching a transaction, the initiating tier must send an ICMP&nbsp;ECHO message to all tiers that will participate in the transaction. The Transaction Extractor uses these messages to calculate the start of each transaction.</a></div>
            </td>
          </tr>
        </table>
      </div>
      <div class="procCaption_outer" style="margin-left: 0pt" onclick="WebWorks_ToggleDIV(WebWorksRootPath, &quot;wwdd100397&quot;);">
        <table border="0" cellspacing="0" cellpadding="0" summary="">
          <tr style="vertical-align: baseline;">
            <td>
              <div class="procCaption_inner" style="width: 99.2pt; white-space: nowrap;">
                <script type="text/javascript" language="JavaScript1.2">WebWorks_WriteArrow(WebWorksRootPath, "wwdd100397", false);</script>Procedure&nbsp;3-3   </div>
            </td>
            <td width="100%">
              <div class="procCaption_inner"><a name="100397">Extracting Transaction Data from non-Packet&nbsp;Trace Files</a></div>
            </td>
          </tr>
        </table>
      </div>
      <script type="text/javascript" language="JavaScript1.2">WebWorks_WriteDIVOpen("wwdd100397", false);</script>
      <div class="procStep_outer" style="margin-left: 0pt">
        <table border="0" cellspacing="0" cellpadding="0" summary="">
          <tr style="vertical-align: baseline;">
            <td>
              <div class="procStep_inner" style="width: 21.6pt; white-space: nowrap;">
                <span class="bold">	1	</span>
              </div>
            </td>
            <td width="100%">
              <div class="procStep_inner"><a name="100400">Capture the transaction(s) of interest as described in </a><span class="HTBlue"><a href="javascript:WWHClickedPopup('main_doc', 'ACE_19_Capturing.03.5.html#100363', '');" title="Capturing Multi-Tier Transactions with Other Programs">Workflow Description</a></span>.</div>
            </td>
          </tr>
        </table>
      </div>
      <div class="procStep_outer" style="margin-left: 0pt">
        <table border="0" cellspacing="0" cellpadding="0" summary="">
          <tr style="vertical-align: baseline;">
            <td>
              <div class="procStep_inner" style="width: 21.6pt; white-space: nowrap;">
                <span class="bold">	2	</span>
              </div>
            </td>
            <td width="100%">
              <div class="procStep_inner"><a name="100402">Open an application task () file, if one is not already open.</a></div>
            </td>
          </tr>
        </table>
      </div>
      <div class="procStep_outer" style="margin-left: 0pt">
        <table border="0" cellspacing="0" cellpadding="0" summary="">
          <tr style="vertical-align: baseline;">
            <td>
              <div class="procStep_inner" style="width: 21.6pt; white-space: nowrap;">
                <span class="bold">	3	</span>
              </div>
            </td>
            <td width="100%">
              <div class="procStep_inner"><a name="100403">Choose Advanced&nbsp;&gt; Extract&nbsp;Transactions&nbsp;using&nbsp;Pings…</a></div>
            </td>
          </tr>
        </table>
      </div>
      <div class="procStepResult_outer" style="margin-left: 21.6pt">
        <table border="0" cellspacing="0" cellpadding="0" summary="">
          <tr style="vertical-align: baseline;">
            <td>
              <div class="procStepResult_inner" style="width: 10.799999999999997pt; white-space: nowrap;">
                <img src="resultsarrow.gif" alt="*" border="0" width="12" height="7" />
              </div>
            </td>
            <td width="100%">
              <div class="procStepResult_inner"><a name="100407">The Choose Packet&nbsp;Traces Containing Transactions dialog box appears.</a></div>
            </td>
          </tr>
        </table>
      </div>
      <div class="figCaptionStep_outer" style="margin-left: 21.6pt">
        <table border="0" cellspacing="0" cellpadding="0" summary="">
          <tr style="vertical-align: baseline;">
            <td>
              <div class="figCaptionStep_inner" style="width: 57.6pt; white-space: nowrap;">Figure&nbsp;3-2   </div>
            </td>
            <td width="100%">
              <div class="figCaptionStep_inner"><a name="100678">“Choose Packet&nbsp;Traces Containing Transactions” Dialog Box</a></div>
            </td>
          </tr>
        </table>
      </div>
      <div class="figAnchor"><a name="100682"><img class="Default" src="images/ACE_19_Capturing.03.5.1.jpg" width="469" height="285" style="display: block; float: none; left: 0.0; top: 0.0" title="" /></a></div>
      <div class="figSpaceAfter"><a name="100683">&nbsp;</a></div>
      <div class="procStep_outer" style="margin-left: 0pt">
        <table border="0" cellspacing="0" cellpadding="0" summary="">
          <tr style="vertical-align: baseline;">
            <td>
              <div class="procStep_inner" style="width: 21.6pt; white-space: nowrap;">
                <span class="bold">	4	</span>
              </div>
            </td>
            <td width="100%">
              <div class="procStep_inner"><a name="100417">Click Add&nbsp;Files… and select one or more packet&nbsp;traces that contain transactions of interest. The selected set of files must meet the requirements specified in </a><span class="HTBlue"><a href="javascript:WWHClickedPopup('main_doc', 'ACE_19_Capturing.03.5.html#100384', '');" title="Capturing Multi-Tier Transactions with Other Programs">Input Requirements</a></span>.</div>
            </td>
          </tr>
        </table>
      </div>
      <div class="procNote">
        <span class="bold">Note—</span><a name="100421">When you complete an extraction, AppTransaction&nbsp;Xpert saves a settings file (settings.txt) in the output directory for the operation. If you want to repeat a previous operation, click the Browse… button next to the “Use&nbsp;a Saved&nbsp;Configuration” field, browse to the output directory of the previous operation, and select the settings.txt file. </a></div>
      <div class="procStep_outer" style="margin-left: 0pt">
        <table border="0" cellspacing="0" cellpadding="0" summary="">
          <tr style="vertical-align: baseline;">
            <td>
              <div class="procStep_inner" style="width: 21.6pt; white-space: nowrap;">
                <span class="bold">	5	</span>
              </div>
            </td>
            <td width="100%">
              <div class="procStep_inner"><a name="100422">Click Next.</a></div>
            </td>
          </tr>
        </table>
      </div>
      <div class="procStepResult_outer" style="margin-left: 21.6pt">
        <table border="0" cellspacing="0" cellpadding="0" summary="">
          <tr style="vertical-align: baseline;">
            <td>
              <div class="procStepResult_inner" style="width: 10.799999999999997pt; white-space: nowrap;">
                <img src="resultsarrow.gif" alt="*" border="0" width="12" height="7" />
              </div>
            </td>
            <td width="100%">
              <div class="procStepResult_inner"><a name="100423">The Extraction Assistant dialog box appears. The timeline pane (upper-right) graphs the traffic in the packet&nbsp;traces you selected in </a><span class="HTBlue"><a href="javascript:WWHClickedPopup('main_doc', 'ACE_19_Capturing.03.5.html#100417', '');" title="Capturing Multi-Tier Transactions with Other Programs">step&nbsp;4</a></span>. This graph shows markers that specify the <span class="italic">estimated</span> transaction start and end times.</div>
            </td>
          </tr>
        </table>
      </div>
      <div class="figCaptionColumn_outer" style="margin-left: 0pt">
        <table border="0" cellspacing="0" cellpadding="0" summary="">
          <tr style="vertical-align: baseline;">
            <td>
              <div class="figCaptionColumn_inner" style="width: 63.7632pt; white-space: nowrap;">Figure&nbsp;3-3   </div>
            </td>
            <td width="100%">
              <div class="figCaptionColumn_inner"><a name="100704">“Extraction Assistant” Dialog Box</a></div>
            </td>
          </tr>
        </table>
      </div>
      <div class="figAnchor"><a name="100708"><img class="Default" src="images/ACE_19_Capturing.03.5.2.jpg" width="508" height="315" style="display: block; float: none; left: 0.0; top: 0.0" title="" /></a></div>
      <div class="figSpaceAfter"><a name="102255">&nbsp;</a></div>
      <div class="procStep_outer" style="margin-left: 0pt">
        <table border="0" cellspacing="0" cellpadding="0" summary="">
          <tr style="vertical-align: baseline;">
            <td>
              <div class="procStep_inner" style="width: 21.6pt; white-space: nowrap;">
                <span class="bold">	6	</span>
              </div>
            </td>
            <td width="100%">
              <div class="procStep_inner"><a name="102256">Click the Configure&nbsp;Marker&nbsp;Logic… button, and enter the following values:</a></div>
            </td>
          </tr>
        </table>
      </div>
      <div class="procStepBullet_outer" style="margin-left: 21.6pt">
        <table border="0" cellspacing="0" cellpadding="0" summary="">
          <tr style="vertical-align: baseline;">
            <td>
              <div class="procStepBullet_inner" style="width: 8.639999999999997pt; white-space: nowrap;">
                <span class="bold">•&nbsp;</span>
              </div>
            </td>
            <td width="100%">
              <div class="procStepBullet_inner"><a name="102257">The IP address of the host that generated the ICMP ECHO messages at the start and end of the transactions.</a></div>
            </td>
          </tr>
        </table>
      </div>
      <div class="procStepBullet_outer" style="margin-left: 21.6pt">
        <table border="0" cellspacing="0" cellpadding="0" summary="">
          <tr style="vertical-align: baseline;">
            <td>
              <div class="procStepBullet_inner" style="width: 8.639999999999997pt; white-space: nowrap;">
                <span class="bold">•&nbsp;</span>
              </div>
            </td>
            <td width="100%">
              <div class="procStepBullet_inner"><a name="100435">The minimum time between markers, which determines whether a series of pings is seen as one marker or several markers. Set this value to the duration of the shortest transaction, minus several seconds.</a></div>
            </td>
          </tr>
        </table>
      </div>
      <div class="procStepCont"><a name="100436">After entering these values, click Apply&nbsp;Logic.</a></div>
      <div class="procStep_outer" style="margin-left: 0pt">
        <table border="0" cellspacing="0" cellpadding="0" summary="">
          <tr style="vertical-align: baseline;">
            <td>
              <div class="procStep_inner" style="width: 21.6pt; white-space: nowrap;">
                <span class="bold">	7	</span>
              </div>
            </td>
            <td width="100%">
              <div class="procStep_inner"><a name="100437">Verify that the markers specify the correct start times for the transactions of interest. It may be necessary to add or remove markers, or to configure the logic used for setting the markers.</a></div>
            </td>
          </tr>
        </table>
      </div>
      <div class="procStepCont"><a name="100717">If extracting transactions from multiple packet&nbsp;traces, each file must have the same number of markers. Otherwise, the Extraction Assistant cannot match capture data for a transaction that was captured from multiple locations.</a></div>
      <div class="procNote">
        <span class="bold">Note—</span><a name="100438">If the markers are not placed correctly, the resulting packet&nbsp;traces will not record the transactions accurately. For more information, see </a><span class="HTBlue"><a href="javascript:WWHClickedPopup('main_doc', 'ACE_19_Capturing.03.5.html#100449', '');" title="Capturing Multi-Tier Transactions with Other Programs">Editing Markers in the Extraction Assistant</a></span>.</div>
      <div class="procStep_outer" style="margin-left: 0pt">
        <table border="0" cellspacing="0" cellpadding="0" summary="">
          <tr style="vertical-align: baseline;">
            <td>
              <div class="procStep_inner" style="width: 21.6pt; white-space: nowrap;">
                <span class="bold">	8	</span>
              </div>
            </td>
            <td width="100%">
              <div class="procStep_inner"><a name="100442">Click Extract…</a></div>
            </td>
          </tr>
        </table>
      </div>
      <div class="procStepResult_outer" style="margin-left: 21.6pt">
        <table border="0" cellspacing="0" cellpadding="0" summary="">
          <tr style="vertical-align: baseline;">
            <td>
              <div class="procStepResult_inner" style="width: 10.799999999999997pt; white-space: nowrap;">
                <img src="resultsarrow.gif" alt="*" border="0" width="12" height="7" />
              </div>
            </td>
            <td width="100%">
              <div class="procStepResult_inner"><a name="100443">AppTransaction&nbsp;Xpert generates a set of application capture (*.appcapture) files and places them in transaction-specific subdirectories, as described in </a><span class="HTBlue"><a href="javascript:WWHClickedPopup('main_doc', 'ACE_19_Capturing.03.5.html#113860', '');" title="Capturing Multi-Tier Transactions with Other Programs">Output Files/Directories</a></span>.</div>
            </td>
          </tr>
        </table>
      </div>
      <div class="procEnd_outer" style="margin-left: 0pt">
        <table border="0" cellspacing="0" cellpadding="0" summary="">
          <tr style="vertical-align: baseline;">
            <td>
              <div class="procEnd_inner" style="width: 32.4pt; white-space: nowrap;">End of Procedure 3-3</div>
            </td>
            <td width="100%">
              <div class="procEnd_inner"><a name="113621">&nbsp;</a></div>
            </td>
          </tr>
        </table>
      </div>
      <script type="text/javascript" language="JavaScript1.2">WebWorks_WriteDIVClose();</script>
      <div class="procSpaceAfter"><a name="113622">&nbsp;</a></div>
      <div class="h3NoBreak"><a name="113860">Output Files/Directories</a></div>
      <div class="body"><a name="113862">The Transaction Extractor creates a subdirectory in the default models directory; the subdirectory name includes the date and time of the capture-slicing operation.</a></div>
      <div class="bodyIntro"><a name="113863">For each transaction, one directory is created in the user’s default model directory. Each transaction directory contains packet&nbsp;traces (one per capture location) that record only that transaction. Thus, the resulting model directory structure looks like this:</a></div>
      <div class="bodyIntro"><a name="113864"><br /></a><span class="code">&lt;</span><span class="italic">user_default_model_directory</span><span class="code" style="color: #000000; font-style: normal; font-weight: normal">&gt;<br />&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&lt;</span><span class="italic">capture_slicing_dir_with_date_and_time</span><span class="code" style="color: #000000; font-style: normal; font-weight: normal">&gt;<br />&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;settings.txt<br />&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&lt;</span><span class="italic">transaction_1_dir</span><span class="code" style="color: #000000; font-style: normal; font-weight: normal">&gt;</span></div>
      <div class="bodyIntro"><span class="code"><a name="113865">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&lt;</a></span><span class="italic">capture_file_1</span><span class="code" style="color: #000000; font-style: normal; font-weight: normal">&gt;<br />&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&lt;</span><span class="italic">capture_file_2</span><span class="code" style="color: #000000; font-style: normal; font-weight: normal">&gt;<br />&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;...<br />&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&lt;</span><span class="italic">transaction_2_dir</span><span class="code" style="color: #000000; font-style: normal; font-weight: normal">&gt;</span></div>
      <div class="body"><span class="code"><a name="113866">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&lt;</a></span><span class="italic">capture_file_1</span><span class="code" style="color: #000000; font-style: normal; font-weight: normal">&gt;<br />&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;...</span></div>
      <div class="h3NoBreak"><a name="100449">Editing Markers in the Extraction Assistant</a></div>
      <div class="bodyIntro"><a name="100450">Your goal in the Extraction Assistant is to ensure that every marker in the data exchange charts (upper-right pane) marks the end of the last transaction and the start of the next. The following steps outline the general workflow:</a></div>
      <div class="listNum_outer" style="margin-left: 0pt">
        <table border="0" cellspacing="0" cellpadding="0" summary="">
          <tr style="vertical-align: baseline;">
            <td>
              <div class="listNum_inner" style="width: 21.6pt; white-space: nowrap;">	1)	</div>
            </td>
            <td width="100%">
              <div class="listNum_inner"><a name="100451">Click Configure&nbsp;Marker&nbsp;Logic…; then specify the source IP addresses of all hosts that initiated transactions of interest.</a></div>
            </td>
          </tr>
        </table>
      </div>
      <div class="listNumCont"><a name="100452">The expected behavior is that, before it initiates each transaction, the host sends an ICMP&nbsp;ECHO (“ping”) message to all hosts participating in the transaction. When you specify the addresses of the initiating hosts, AppTransaction&nbsp;Xpert filters out all other ping messages from other hosts. </a></div>
      <div class="listNum_outer" style="margin-left: 0pt">
        <table border="0" cellspacing="0" cellpadding="0" summary="">
          <tr style="vertical-align: baseline;">
            <td>
              <div class="listNum_inner" style="width: 21.6pt; white-space: nowrap;">	2)	</div>
            </td>
            <td width="100%">
              <div class="listNum_inner"><a name="100453">In the Configure&nbsp;Marker&nbsp;Logic dialog box, enter the minimum time between tiers.</a></div>
            </td>
          </tr>
        </table>
      </div>
      <div class="listNumCont"><a name="100454">Enter the duration of the shortest transaction, minus several seconds. The Extraction Assistant uses this value to divide the total capture window into “transaction time slices.” If a time slice contains a ping message from an initiating host, AppTransaction&nbsp;Xpert creates a marker for that ping message. This marker represents the estimated end of the last transaction and the start of the next. (If a time slice contains multiple ping messages, AppTransaction&nbsp;Xpert calculates one marker based on the last ping message in the time slice.)</a></div>
      <div class="listNumCont"><a name="100456">After you specify the source IP addresses and the minimum time between markers, click Apply&nbsp;Logic to return to the Extraction Assistant.</a></div>
      <div class="listNum_outer" style="margin-left: 0pt">
        <table border="0" cellspacing="0" cellpadding="0" summary="">
          <tr style="vertical-align: baseline;">
            <td>
              <div class="listNum_inner" style="width: 21.6pt; white-space: nowrap;">	3)	</div>
            </td>
            <td width="100%">
              <div class="listNum_inner"><a name="100457">Edit the remaining markers and verify that they are located in the correct locations. </a></div>
            </td>
          </tr>
        </table>
      </div>
      <div class="listNumCont"><a name="100458">AppTransaction&nbsp;Xpert calculates marker locations based on the logic defined in the Configure Marker Logic dialog box. However, these markers represent </a><span class="italic">best&nbsp;estimates</span>. Be sure to examine each marker location and verify that it marks the actual start of the next transaction. The basic rule is:</div>
      <div class="listNumCont" style="color: #000000; font-family: Helvetica; font-style: normal; font-variant: normal; font-weight: bold; text-transform: none; vertical-align: baseline"><span class="boldItalic"><a name="100860">A marker is placed correctly if and only if the packet immediately after that marker is the first packet in the transaction.</a></span></div>
      <div class="figAnchor"><a name="100870"><img class="Default" src="images/ACE_19_Capturing.03.5.3.jpg" width="508" height="219" style="display: block; float: none; left: 0.0; top: 0.0" title="" /></a></div>
      <div class="figSpaceAfter"><a name="100854">&nbsp;</a></div>
      <div class="listNumCont"><a name="100471">To verify whether a marker follows this rule, select the marker; then view the contents of the marker packet in the “Decode for Marker Packet” pane (bottom-left). By default, the “Decode for User-Selected Packet” pane (bottom-right) shows the packet immediately after the marker. </a></div>
      <div class="listNumCont"><a name="100472">You might need to do one of the following:</a></div>
      <div class="listNumSubCont"><a name="100473">Move a marker—To move a marker, drag it in the exchange chart. If you know the exact packet number for a marker, select the marker and enter the packet number above the “Decode for Marker Packet” pane.</a></div>
      <div class="listNumSubCont"><a name="100474">Add a marker—To create a new marker, right-click in the chart and choose Place&nbsp;Marker.</a></div>
      <div class="listNumSubContLast"><a name="113184">Delete a marker—To remove a marker, right-click on the marker and choose Delete&nbsp;Marker.</a></div>
      <script type="text/javascript" language="JavaScript1.2">
        <!--
          // Clear related topics
          //
          WWHClearRelatedTopics();

          // Add related topics
          //
          WWHAddRelatedTopic("Capturing Application Traffic: Overview", "main_doc", "ACE_19_Capturing.03.1.html#44546");

          document.writeln(WWHRelatedTopicsInlineHTML());
        // -->
      </script>
    </blockquote>
    <script type="text/javascript" language="JavaScript1.2">
      <!--
        document.write(WWHRelatedTopicsDivTag() + WWHPopupDivTag() + WWHALinksDivTag());
      // -->
    </script>
    <div style="font-size: 8pt; font-family: arial; text-align: left; text-decoration: none;">
      <a href="../wwhelp/wwhimpl/common/html/default.htm">Home</a> | <a href="#" title="To the top of this page">Back to Top</a><br /><br />© 2013 Riverbed Technology.
  All Rights Reserved. This software may be covered by one or more U.S. Patents. See complete patent notice in the <a href="../Notices/aceanalyst_copy_info_wwp.html">Legal Notices</a> section.<br /><a href="http://www.riverbed.com/support/" style="text-decoration: none" target="_blank"> Riverbed Support Center </a><br /></div>
  </body>
</html>