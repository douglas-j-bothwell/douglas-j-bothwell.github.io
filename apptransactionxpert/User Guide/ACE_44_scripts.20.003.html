<?xml version="1.0" encoding="utf-8"?>
<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xml:lang="en" lang="en" xmlns="http://www.w3.org/1999/xhtml">
  <head>
    <meta http-equiv="Content-Type" content="text/html;charset=utf-8" />
    <meta http-equiv="Content-Style-Type" content="text/css" />
    <!-- MOTW-DISABLED saved from url=(0014)about:internet -->
    <title>AppTransaction&nbsp;Xpert Scripts</title>
    <link rel="StyleSheet" href="css/ACE_44_scripts.css" type="text/css" media="all" />
    <link rel="StyleSheet" href="css/webworks.css" type="text/css" media="all" />
    <script type="text/javascript" language="JavaScript1.2" src="wwhdata/common/context.js"></script>
    <script type="text/javascript" language="JavaScript1.2" src="wwhdata/common/towwhdir.js"></script>
    <script type="text/javascript" language="JavaScript1.2" src="wwhdata/common/wwhpagef.js"></script>
    <script type="text/javascript" language="JavaScript1.2">
      <!--
        var  WebWorksRootPath = "";
      // -->
    </script>
    <script type="text/javascript" language="JavaScript1.2">
      <!--
        // Set reference to top level help frame
        //
        var  WWHFrame = WWHGetWWHFrame("", true);
      // -->
    </script>
    <script type="text/javascript" language="JavaScript1.2">
      <!--
        function  WWHPDFLink()
        {
          return "ACE_44_scripts.pdf";
        }
      // -->
    </script>
    <script type="text/javascript" language="JavaScript1.2" src="scripts/expand.js"></script>
  </head>
  <body style="margin-left: 2%; margin-right: 2%" onLoad="WWHUpdate();" onUnload="WWHUnload();" onKeyDown="WWHHandleKeyDown((document.all||document.getElementById||document.layers)?event:null);" onKeyPress="WWHHandleKeyPress((document.all||document.getElementById||document.layers)?event:null);" onKeyUp="WWHHandleKeyUp((document.all||document.getElementById||document.layers)?event:null);">
    <div style="font-family: arial; float: right; height: 1px;"><a><img src="images/blank.gif" height="0" width="0" border="0" alt="skip to main content" /></a></div>
    <br />
    <div class="WebWorks_Breadcrumbs" style="text-align: left;">User Guide &gt; <a class="WebWorks_Breadcrumb_Link" href="atx_visualizing_apps_splash.html#362245">Visualizing Applications</a> &gt; <a class="WebWorks_Breadcrumb_Link" href="ACE_44_scripts.20.001.html#362245">Scripts for Filtering, Analyzing, and Visualizing</a> &gt; AppTransaction&nbsp;Xpert Scripts</div>
    <hr align="left" />
    <blockquote>
      <div class="h1Top"><a name="362245">AppTransaction&nbsp;Xpert Scripts</a></div>
      <div class="body"><a name="347418">AppTransaction&nbsp;Xpert scripts are based on the Python programming language. Python is object-oriented and integrates well with C and C++.</a></div>
      <div class="body"><a name="905385">For more information about Python, visit the </a><span class="HTBlue"><a href="http://www.python.org" target="external_window">Python web site (www.python.org)</a></span>.</div>
      <div class="h2NoBreak"><a name="87678">Script Editor</a></div>
      <div class="bodyIntro"><a name="87685">You create and edit scripts in an edit pad (called an script editor when used for Python scripts).</a></div>
      <div class="procCaption_outer" style="margin-left: 0pt" onclick="WebWorks_ToggleDIV(WebWorksRootPath, &quot;wwdd400967&quot;);">
        <table border="0" cellspacing="0" cellpadding="0" summary="">
          <tr style="vertical-align: baseline;">
            <td>
              <div class="procCaption_inner" style="width: 99.2pt; white-space: nowrap;">
                <script type="text/javascript" language="JavaScript1.2">WebWorks_WriteArrow(WebWorksRootPath, "wwdd400967", false);</script>Procedure&nbsp;17-4   </div>
            </td>
            <td width="100%">
              <div class="procCaption_inner"><a name="400967">Creating a Script</a></div>
            </td>
          </tr>
        </table>
      </div>
      <script type="text/javascript" language="JavaScript1.2">WebWorks_WriteDIVOpen("wwdd400967", false);</script>
      <div class="procStep_outer" style="margin-left: 0pt">
        <table border="0" cellspacing="0" cellpadding="0" summary="">
          <tr style="vertical-align: baseline;">
            <td>
              <div class="procStep_inner" style="width: 21.6pt; white-space: nowrap;">
                <span class="bold">	1	</span>
              </div>
            </td>
            <td width="100%">
              <div class="procStep_inner"><a name="405815">In the Transaction&nbsp;Analyzer window, choose Advanced&nbsp;&gt; New&nbsp;Script…</a></div>
            </td>
          </tr>
        </table>
      </div>
      <div class="procStepResult_outer" style="margin-left: 21.6pt">
        <table border="0" cellspacing="0" cellpadding="0" summary="">
          <tr style="vertical-align: baseline;">
            <td>
              <div class="procStepResult_inner" style="width: 10.799999999999997pt; white-space: nowrap;">
                <img src="resultsarrow.gif" alt="*" border="0" width="12" height="7" />
              </div>
            </td>
            <td width="100%">
              <div class="procStepResult_inner"><a name="406383">A file browser opens.</a></div>
            </td>
          </tr>
        </table>
      </div>
      <div class="procStep_outer" style="margin-left: 0pt">
        <table border="0" cellspacing="0" cellpadding="0" summary="">
          <tr style="vertical-align: baseline;">
            <td>
              <div class="procStep_inner" style="width: 21.6pt; white-space: nowrap;">
                <span class="bold">	2	</span>
              </div>
            </td>
            <td width="100%">
              <div class="procStep_inner"><a name="405820">In the file browser, enter a name for the script, navigate to the directory in which to save the script, and click OK.</a></div>
            </td>
          </tr>
        </table>
      </div>
      <div class="procStepResult_outer" style="margin-left: 21.6pt">
        <table border="0" cellspacing="0" cellpadding="0" summary="">
          <tr style="vertical-align: baseline;">
            <td>
              <div class="procStepResult_inner" style="width: 10.799999999999997pt; white-space: nowrap;">
                <img src="resultsarrow.gif" alt="*" border="0" width="12" height="7" />
              </div>
            </td>
            <td width="100%">
              <div class="procStepResult_inner"><a name="406397">A script editor opens with the initial statements for a script.</a></div>
            </td>
          </tr>
        </table>
      </div>
      <div class="figCaptionStep_outer" style="margin-left: 21.6pt">
        <table border="0" cellspacing="0" cellpadding="0" summary="">
          <tr style="vertical-align: baseline;">
            <td>
              <div class="figCaptionStep_inner" style="width: 57.6pt; white-space: nowrap;">Figure&nbsp;17-3   </div>
            </td>
            <td width="100%">
              <div class="figCaptionStep_inner"><a name="406372">Script Editor</a></div>
            </td>
          </tr>
        </table>
      </div>
      <div class="figAnchor"><a name="406376"><img class="Default" src="images/ACE_44_scripts.20.003.1.jpg" width="417" height="175" style="display: block; float: none; left: 0.0; top: 0.0" title="" /></a></div>
      <div class="figSpaceAfter"><a name="406377">&nbsp;</a></div>
      <div class="procStep_outer" style="margin-left: 0pt">
        <table border="0" cellspacing="0" cellpadding="0" summary="">
          <tr style="vertical-align: baseline;">
            <td>
              <div class="procStep_inner" style="width: 21.6pt; white-space: nowrap;">
                <span class="bold">	3	</span>
              </div>
            </td>
            <td width="100%">
              <div class="procStep_inner"><a name="405861">Enter the script in the script editor. When finished, choose File&nbsp;&gt; Save.</a></div>
            </td>
          </tr>
        </table>
      </div>
      <div class="procEnd_outer" style="margin-left: 0pt">
        <table border="0" cellspacing="0" cellpadding="0" summary="">
          <tr style="vertical-align: baseline;">
            <td>
              <div class="procEnd_inner" style="width: 32.4pt; white-space: nowrap;">End of Procedure 17-4</div>
            </td>
            <td width="100%">
              <div class="procEnd_inner"><a name="405895">&nbsp;</a></div>
            </td>
          </tr>
        </table>
      </div>
      <script type="text/javascript" language="JavaScript1.2">WebWorks_WriteDIVClose();</script>
      <div class="procSpaceAfter"><a name="405899">&nbsp;</a></div>
      <div class="procCaption_outer" style="margin-left: 0pt" onclick="WebWorks_ToggleDIV(WebWorksRootPath, &quot;wwdd405902&quot;);">
        <table border="0" cellspacing="0" cellpadding="0" summary="">
          <tr style="vertical-align: baseline;">
            <td>
              <div class="procCaption_inner" style="width: 99.2pt; white-space: nowrap;">
                <script type="text/javascript" language="JavaScript1.2">WebWorks_WriteArrow(WebWorksRootPath, "wwdd405902", false);</script>Procedure&nbsp;17-5   </div>
            </td>
            <td width="100%">
              <div class="procCaption_inner"><a name="405902">Editing a Script</a></div>
            </td>
          </tr>
        </table>
      </div>
      <script type="text/javascript" language="JavaScript1.2">WebWorks_WriteDIVOpen("wwdd405902", false);</script>
      <div class="procStep_outer" style="margin-left: 0pt">
        <table border="0" cellspacing="0" cellpadding="0" summary="">
          <tr style="vertical-align: baseline;">
            <td>
              <div class="procStep_inner" style="width: 21.6pt; white-space: nowrap;">
                <span class="bold">	1	</span>
              </div>
            </td>
            <td width="100%">
              <div class="procStep_inner"><a name="405903">In the </a><span style="font-size: 11.0pt">Transaction&nbsp;Analyzer</span> window, choose Advanced&nbsp;&gt; Edit&nbsp;Script…</div>
            </td>
          </tr>
        </table>
      </div>
      <div class="procStepResult_outer" style="margin-left: 21.6pt">
        <table border="0" cellspacing="0" cellpadding="0" summary="">
          <tr style="vertical-align: baseline;">
            <td>
              <div class="procStepResult_inner" style="width: 10.799999999999997pt; white-space: nowrap;">
                <img src="resultsarrow.gif" alt="*" border="0" width="12" height="7" />
              </div>
            </td>
            <td width="100%">
              <div class="procStepResult_inner"><a name="406388">A file browser opens.</a></div>
            </td>
          </tr>
        </table>
      </div>
      <div class="procStep_outer" style="margin-left: 0pt">
        <table border="0" cellspacing="0" cellpadding="0" summary="">
          <tr style="vertical-align: baseline;">
            <td>
              <div class="procStep_inner" style="width: 21.6pt; white-space: nowrap;">
                <span class="bold">	2	</span>
              </div>
            </td>
            <td width="100%">
              <div class="procStep_inner"><a name="405904">In the file browser, select the script to edit and click OK.</a></div>
            </td>
          </tr>
        </table>
      </div>
      <div class="procStepResult_outer" style="margin-left: 21.6pt">
        <table border="0" cellspacing="0" cellpadding="0" summary="">
          <tr style="vertical-align: baseline;">
            <td>
              <div class="procStepResult_inner" style="width: 10.799999999999997pt; white-space: nowrap;">
                <img src="resultsarrow.gif" alt="*" border="0" width="12" height="7" />
              </div>
            </td>
            <td width="100%">
              <div class="procStepResult_inner"><a name="406403">A script editor opens with the selected script.</a></div>
            </td>
          </tr>
        </table>
      </div>
      <div class="procStep_outer" style="margin-left: 0pt">
        <table border="0" cellspacing="0" cellpadding="0" summary="">
          <tr style="vertical-align: baseline;">
            <td>
              <div class="procStep_inner" style="width: 21.6pt; white-space: nowrap;">
                <span class="bold">	3	</span>
              </div>
            </td>
            <td width="100%">
              <div class="procStep_inner"><a name="405905">Edit the script in the script editor. When finished, choose File&nbsp;&gt; Save.</a></div>
            </td>
          </tr>
        </table>
      </div>
      <div class="procEnd_outer" style="margin-left: 0pt">
        <table border="0" cellspacing="0" cellpadding="0" summary="">
          <tr style="vertical-align: baseline;">
            <td>
              <div class="procEnd_inner" style="width: 32.4pt; white-space: nowrap;">End of Procedure 17-5</div>
            </td>
            <td width="100%">
              <div class="procEnd_inner"><a name="405906">&nbsp;</a></div>
            </td>
          </tr>
        </table>
      </div>
      <script type="text/javascript" language="JavaScript1.2">WebWorks_WriteDIVClose();</script>
      <div class="procSpaceAfter"><a name="405907">&nbsp;</a></div>
      <div class="procCaption_outer" style="margin-left: 0pt" onclick="WebWorks_ToggleDIV(WebWorksRootPath, &quot;wwdd406327&quot;);">
        <table border="0" cellspacing="0" cellpadding="0" summary="">
          <tr style="vertical-align: baseline;">
            <td>
              <div class="procCaption_inner" style="width: 99.2pt; white-space: nowrap;">
                <script type="text/javascript" language="JavaScript1.2">WebWorks_WriteArrow(WebWorksRootPath, "wwdd406327", false);</script>Procedure&nbsp;17-6   </div>
            </td>
            <td width="100%">
              <div class="procCaption_inner"><a name="406327">Running a Script</a></div>
            </td>
          </tr>
        </table>
      </div>
      <script type="text/javascript" language="JavaScript1.2">WebWorks_WriteDIVOpen("wwdd406327", false);</script>
      <div class="procStep_outer" style="margin-left: 0pt">
        <table border="0" cellspacing="0" cellpadding="0" summary="">
          <tr style="vertical-align: baseline;">
            <td>
              <div class="procStep_inner" style="width: 21.6pt; white-space: nowrap;">
                <span class="bold">	1	</span>
              </div>
            </td>
            <td width="100%">
              <div class="procStep_inner"><a name="406328">In the Transaction&nbsp;Analyzer window, choose Advanced&nbsp;&gt; Run&nbsp;Script…</a></div>
            </td>
          </tr>
        </table>
      </div>
      <div class="procStepResult_outer" style="margin-left: 21.6pt">
        <table border="0" cellspacing="0" cellpadding="0" summary="">
          <tr style="vertical-align: baseline;">
            <td>
              <div class="procStepResult_inner" style="width: 10.799999999999997pt; white-space: nowrap;">
                <img src="resultsarrow.gif" alt="*" border="0" width="12" height="7" />
              </div>
            </td>
            <td width="100%">
              <div class="procStepResult_inner"><a name="406392">A file browser opens.</a></div>
            </td>
          </tr>
        </table>
      </div>
      <div class="procStep_outer" style="margin-left: 0pt">
        <table border="0" cellspacing="0" cellpadding="0" summary="">
          <tr style="vertical-align: baseline;">
            <td>
              <div class="procStep_inner" style="width: 21.6pt; white-space: nowrap;">
                <span class="bold">	2	</span>
              </div>
            </td>
            <td width="100%">
              <div class="procStep_inner"><a name="406329">In the file browser, select the script to run and click OK.</a></div>
            </td>
          </tr>
        </table>
      </div>
      <div class="procEnd_outer" style="margin-left: 0pt">
        <table border="0" cellspacing="0" cellpadding="0" summary="">
          <tr style="vertical-align: baseline;">
            <td>
              <div class="procEnd_inner" style="width: 32.4pt; white-space: nowrap;">End of Procedure 17-6</div>
            </td>
            <td width="100%">
              <div class="procEnd_inner"><a name="406331">&nbsp;</a></div>
            </td>
          </tr>
        </table>
      </div>
      <script type="text/javascript" language="JavaScript1.2">WebWorks_WriteDIVClose();</script>
      <div class="procSpaceAfter"><a name="406332">&nbsp;</a></div>
      <div class="h2NoBreak"><a name="405900">Traversing the Object Hierarchy</a></div>
      <div class="bodyIntro"><a name="411799">The following figure shows the hierarchy of objects in a Transaction&nbsp;Analyzer model that are accessible using the scripting API.</a></div>
      <div class="figCaptionColumn_outer" style="margin-left: 0pt">
        <table border="0" cellspacing="0" cellpadding="0" summary="">
          <tr style="vertical-align: baseline;">
            <td>
              <div class="figCaptionColumn_inner" style="width: 63.7632pt; white-space: nowrap;">Figure&nbsp;17-4   </div>
            </td>
            <td width="100%">
              <div class="figCaptionColumn_inner"><a name="411800">Object Hierarchy</a></div>
            </td>
          </tr>
        </table>
      </div>
      <div class="figAnchor"><a name="379952"><img class="Default" src="images/ACE_44_scripts.20.003.2.jpg" width="431" height="385" style="display: block; float: none; left: 0.0; top: 0.0" title="" /></a></div>
      <div class="figSpaceAfter"><a name="379953">&nbsp;</a></div>
      <div class="bodyIntro"><a name="411552">A common way of stepping through all packets in a Transaction&nbsp;Analyzer model is to use nested </a><span class="code">for</span> loops. This approach gives you control over the order in which you search through the packets and lets you collect statistics in a structured manner. For example:</div>
      <div class="codeColumn"><a name="411600"># Get the current task<br />task = Ace_Tool.get_current_task()<br /># Iterate through all packets of all connections of all tier_pairs<br />for tp in task.get_tier_pairs():<br />&nbsp;&nbsp;&nbsp;for conn in tp.get_connections():<br />&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;for pkt in conn.get_network_packets():<br />&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;# Do something with the packets...</a></div>
      <div class="bodyIntro"><a name="1014260">An alternate way of stepping through packets is by message. Note, however, that application messages do not contain all packets (for example, dataless ACKs are not included in messages). For example:</a></div>
      <div class="codeColumn"><a name="1014261"># Get the current task<br />task = Ace_Tool.get_current_task()<br /># Iterate through all messages of all transactions<br />for transaction in task.get_transactions():<br />&nbsp;&nbsp;&nbsp;for msg in transaction.get_messages():<br />&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;for packet in msg.get_network_packets():<br />&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;# Do something with the packets...</a></div>
      <div class="h3NoBreak"><a name="1110330">Iteration Hierarchy</a></div>
      <div class="bodyIntro"><a name="1110332">The </a><span class="italic">__iter__</span> method is defined in many classes to allow a simple way of traversing a frequently used hierarchy. This hierarchy is</div>
      <div class="listBullet_outer" style="margin-left: 0pt">
        <table border="0" cellspacing="0" cellpadding="0" summary="">
          <tr style="vertical-align: baseline;">
            <td>
              <div class="listBullet_inner" style="width: 14.4pt; white-space: nowrap;">•	</div>
            </td>
            <td width="100%">
              <div class="listBullet_inner"><a name="1110333">Task</a></div>
            </td>
          </tr>
        </table>
      </div>
      <div class="listBullet_outer" style="margin-left: 0pt">
        <table border="0" cellspacing="0" cellpadding="0" summary="">
          <tr style="vertical-align: baseline;">
            <td>
              <div class="listBullet_inner" style="width: 14.4pt; white-space: nowrap;">•	</div>
            </td>
            <td width="100%">
              <div class="listBullet_inner"><a name="1110334">Tier_Pair</a></div>
            </td>
          </tr>
        </table>
      </div>
      <div class="listBullet_outer" style="margin-left: 0pt">
        <table border="0" cellspacing="0" cellpadding="0" summary="">
          <tr style="vertical-align: baseline;">
            <td>
              <div class="listBullet_inner" style="width: 14.4pt; white-space: nowrap;">•	</div>
            </td>
            <td width="100%">
              <div class="listBullet_inner"><a name="1110335">Connection</a></div>
            </td>
          </tr>
        </table>
      </div>
      <div class="listBullet_outer" style="margin-left: 0pt">
        <table border="0" cellspacing="0" cellpadding="0" summary="">
          <tr style="vertical-align: baseline;">
            <td>
              <div class="listBullet_inner" style="width: 14.4pt; white-space: nowrap;">•	</div>
            </td>
            <td width="100%">
              <div class="listBullet_inner"><a name="1110336">Network_Packet</a></div>
            </td>
          </tr>
        </table>
      </div>
      <div class="listBulletLast_outer" style="margin-left: 0pt">
        <table border="0" cellspacing="0" cellpadding="0" summary="">
          <tr style="vertical-align: baseline;">
            <td>
              <div class="listBulletLast_inner" style="width: 14.4pt; white-space: nowrap;">•	</div>
            </td>
            <td width="100%">
              <div class="listBulletLast_inner"><a name="1110337">Protocol</a></div>
            </td>
          </tr>
        </table>
      </div>
      <div class="bodyIntro"><a name="1110338">For example, to iterate the included connections in a tier pair, you can write</a></div>
      <div class="codeColumnLarge"><a name="1110339">for connection in a_tier_pair:</a></div>
      <div class="bodyIntro"><a name="1110340">instead of</a></div>
      <div class="codeColumnLarge"><a name="1110341">for connection in a_tier_pair.get_connections(True):</a></div>
      <div class="bodyNote">
        <span class="bold">Note—</span><a name="1110342">The </a><span class="italic">__iter__</span> methods are defined to operate only on included objects. If you need to iterate over all objects, including those currently excluded, you must use the longer version. For example, to iterate all connections in a tier pair, use<br /><br /><span class="code">for connection in a_tier_pair.get_connections():</span></div>
      <div class="bodyIntro"><a name="1110343">You can mix these two approaches. For example, to step through all packets of included messages:</a></div>
      <div class="codeColumn"><a name="1110344"># Get the current task<br />task = Ace_Tool.get_current_task()<br /># Iterate through included messages of included transactions<br />for transaction in task.get_transactions(True):&nbsp;&nbsp;&nbsp;&nbsp;# get included transactions<br />&nbsp;&nbsp;&nbsp;for msg in transaction:&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;# get included messages<br />&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;for packet in msg.get_network_packets():&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;# get all packets<br />&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;# Do something with the packets...</a></div>
      <div class="h2NoBreak"><a name="411759">Filtering with Scripts</a></div>
      <div class="bodyIntro"><a name="411771">Filtering an application task (Transaction&nbsp;Analyzer model) file can improve analysis results by</a></div>
      <div class="listBullet_outer" style="margin-left: 0pt">
        <table border="0" cellspacing="0" cellpadding="0" summary="">
          <tr style="vertical-align: baseline;">
            <td>
              <div class="listBullet_inner" style="width: 14.4pt; white-space: nowrap;">•	</div>
            </td>
            <td width="100%">
              <div class="listBullet_inner"><a name="416757">removing extraneous traffic</a></div>
            </td>
          </tr>
        </table>
      </div>
      <div class="listBulletLast_outer" style="margin-left: 0pt">
        <table border="0" cellspacing="0" cellpadding="0" summary="">
          <tr style="vertical-align: baseline;">
            <td>
              <div class="listBulletLast_inner" style="width: 14.4pt; white-space: nowrap;">•	</div>
            </td>
            <td width="100%">
              <div class="listBulletLast_inner"><a name="416759">letting you focus on specific transactions, protocols, or hosts</a></div>
            </td>
          </tr>
        </table>
      </div>
      <div class="bodyIntro"><a name="416760">AppTransaction&nbsp;Xpert contains a variety of built-in filtering approaches, as described in </a><span class="HTBlue"><a href="javascript:WWHClickedPopup('main_doc', 'ace_filtering_overview.10.1.html#90696', '');" title="Filtering Traffic">Filtering Traffic</a></span>. In addition, you can use scripting to supplement the built-in filtering by performing custom filtering on a task. Common elements of a script used for filtering include</div>
      <div class="listBullet_outer" style="margin-left: 0pt">
        <table border="0" cellspacing="0" cellpadding="0" summary="">
          <tr style="vertical-align: baseline;">
            <td>
              <div class="listBullet_inner" style="width: 14.4pt; white-space: nowrap;">•	</div>
            </td>
            <td width="100%">
              <div class="listBullet_inner"><span class="zBlueItalics"><a href="javascript:WWHClickedPopup('main_doc', 'ACE_44_scripts.20.108.html#307253', '');" title="include()" name="416920">include()</a></span>, <span class="zBlueItalics"><a href="javascript:WWHClickedPopup('main_doc', 'ACE_44_scripts.20.109.html#307457', '');" title="include_all()">include_all()</a></span>—methods used to control which components of a model (packets, protocols, and so on) will be considered during analysis</div>
            </td>
          </tr>
        </table>
      </div>
      <div class="listBullet_outer" style="margin-left: 0pt">
        <table border="0" cellspacing="0" cellpadding="0" summary="">
          <tr style="vertical-align: baseline;">
            <td>
              <div class="listBullet_inner" style="width: 14.4pt; white-space: nowrap;">•	</div>
            </td>
            <td width="100%">
              <div class="listBullet_inner"><span class="zBlueItalics"><a href="javascript:WWHClickedPopup('main_doc', 'ACE_44_scripts.20.092.html#305213', '');" title="exclude()" name="416798">exclude()</a></span>, <span class="zBlueItalics"><a href="javascript:WWHClickedPopup('main_doc', 'ACE_44_scripts.20.093.html#825682', '');" title="exclude_others()">exclude_others()</a></span>, <span class="zBlueItalics"><a href="javascript:WWHClickedPopup('main_doc', 'ACE_44_scripts.20.090.html#293120', '');" title="delete()">delete()</a></span>, <span class="zBlueItalics"><a href="javascript:WWHClickedPopup('main_doc', 'ACE_44_scripts.20.091.html#305016', '');" title="delete_others()">delete_others()</a></span>—methods used to control which components of a model will not be considered during analysis</div>
            </td>
          </tr>
        </table>
      </div>
      <div class="listBullet_outer" style="margin-left: 0pt">
        <table border="0" cellspacing="0" cellpadding="0" summary="">
          <tr style="vertical-align: baseline;">
            <td>
              <div class="listBullet_inner" style="width: 14.4pt; white-space: nowrap;">•	</div>
            </td>
            <td width="100%">
              <div class="listBullet_inner"><span class="zBlueItalics"><a href="javascript:WWHClickedPopup('main_doc', 'ACE_44_scripts.20.024.html#1110490', '');" title="is_included()" name="1110355">is_included()</a></span>, <span class="zBlueItalics"><a href="javascript:WWHClickedPopup('main_doc', 'ACE_44_scripts.20.023.html#1110441', '');" title="is_excluded()">is_excluded()</a></span>—methods used to test whether a component is included or excluded; available in the Connection, Message, Network_Packet, Tier_Pair, and Transaction classes</div>
            </td>
          </tr>
        </table>
      </div>
      <div class="listBulletLast_outer" style="margin-left: 0pt">
        <table border="0" cellspacing="0" cellpadding="0" summary="">
          <tr style="vertical-align: baseline;">
            <td>
              <div class="listBulletLast_inner" style="width: 14.4pt; white-space: nowrap;">•	</div>
            </td>
            <td width="100%">
              <div class="listBulletLast_inner"><span class="italic"><a name="1110357">hide_excluded</a></span>—argument used by various methods to specify whether the iterator object that is returned should point to all components or only those that are not excluded (see <span class="italic">connection.</span><span class="zBlueItalics"><a href="javascript:WWHClickedPopup('main_doc', 'ACE_44_scripts.20.013.html#287939', '');" title="get_messages()">get_messages()</a></span> for an example)</div>
            </td>
          </tr>
        </table>
      </div>
      <div class="figCaptionColumn_outer" style="margin-left: 0pt">
        <table border="0" cellspacing="0" cellpadding="0" summary="">
          <tr style="vertical-align: baseline;">
            <td>
              <div class="figCaptionColumn_inner" style="width: 63.7632pt; white-space: nowrap;">Figure&nbsp;17-5   </div>
            </td>
            <td width="100%">
              <div class="figCaptionColumn_inner"><a name="416888">Filtering Example</a></div>
            </td>
          </tr>
        </table>
      </div>
      <div class="codeColumn"><a name="443013">import Ace_Tool<br />import Ace_Tool_Contributed<br /><br />def ace_main():<br />&nbsp;&nbsp;&nbsp;task = Ace_Tool.get_current_task()<br /><br />&nbsp;&nbsp;&nbsp;# Prompt user for the protocol to include<br />&nbsp;&nbsp;&nbsp;prompt = "Protocol to be included (all others will be excluded):"<br />&nbsp;&nbsp;&nbsp;protocol_name = Ace_Tool.get_user_string_input (prompt, "Include protocol")<br /><br />&nbsp;&nbsp;&nbsp;# Did the user actually give a protocol name (not press cancel)<br />&nbsp;&nbsp;&nbsp;if protocol_name:<br />&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;packet_list = Ace_Tool_Contributed.get_protocol_packets (protocol_name)<br /><br />&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;task.include (packet_list)<br />&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;task.exclude_others (packet_list)</a></div>
      <div class="h2NoBreak"><a name="411778">Graphing with Scripts</a></div>
      <div class="bodyIntro"><a name="411785">AppTransaction&nbsp;Xpert can graph statistics that measure network and application performance within each tier pair and connection, as described in </a><span class="HTBlue"><a href="javascript:WWHClickedPopup('main_doc', 'ace_stats_overview.19.1.html#44546', '');" title="Viewing Statistics">Viewing Statistics</a></span>. You can use scripting to supplement the built-in graphing options.</div>
      <div class="figCaptionColumn_outer" style="margin-left: 0pt">
        <table border="0" cellspacing="0" cellpadding="0" summary="">
          <tr style="vertical-align: baseline;">
            <td>
              <div class="figCaptionColumn_inner" style="width: 63.7632pt; white-space: nowrap;">Figure&nbsp;17-6   </div>
            </td>
            <td width="100%">
              <div class="figCaptionColumn_inner"><a name="423662">Graphing Example</a></div>
            </td>
          </tr>
        </table>
      </div>
      <div class="codeColumn"><a name="433742">import Ace_Tool<br />import Ace_Tool_Contributed<br /><br />def ace_main():<br />&nbsp;&nbsp;&nbsp;"""Creates network throughput graphs of specific protocols"""<br /><br />&nbsp;&nbsp;&nbsp;# Create an empty list for storing our graph data. <br />&nbsp;&nbsp;&nbsp;# (The '[]' creates an empty list).<br />&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;graph_list = []<br /><br />&nbsp;&nbsp;&nbsp;# Create a graph showing HTTP throughput. We'll do this in three steps:<br />&nbsp;&nbsp;&nbsp;#&nbsp;&nbsp;1) Get a list of network packets, where all those packets in are in connections <br />&nbsp;&nbsp;&nbsp;# &nbsp;&nbsp;&nbsp;&nbsp;whose highest protocol is HTTP.<br />&nbsp;&nbsp;&nbsp;#&nbsp;&nbsp;2) Create the graph data "tuple", which includes the graph labels as well as<br />&nbsp;&nbsp;&nbsp;# &nbsp;&nbsp;&nbsp;&nbsp;the packets from step 1.<br />&nbsp;&nbsp;&nbsp;#&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;-- This is a three-item Python "tuple" (where a tuple is created by putting<br />&nbsp;&nbsp;&nbsp;# &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;parentheses around the comma separated items).<br />&nbsp;&nbsp;&nbsp;#  3) Add the graph "tuple" to our graph list.<br /><br />&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;http_packets_list = Ace_Tool_Contributed.get_protocol_packets ("HTTP")<br /><br />&nbsp;&nbsp;# Step 1: get the packet list for HTTP<br />&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;http_graph_tuple = ("Time (sec)", "HTTP Network Throughput(Kbps)",<br />&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;http_packets_list)<br /><br />&nbsp;&nbsp;# Step 2: create the graph data "tuple"<br />&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;graph_list.append (http_graph_tuple)&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<br />&nbsp;&nbsp;<br />&nbsp;&nbsp;# Step 3: add the "tuple" to our graph list<br /><br />&nbsp;&nbsp;&nbsp;# Create a list of network packets in all connections and add it to our graph list.<br />&nbsp;&nbsp;&nbsp;# Follow the same three steps as above, but for step 1 get ALL packets.<br />&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;all_packets_list = Ace_Tool_Contributed.get_network_packets ()<br />&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;overall_graph_tuple = ("Time (sec)", "Overall Network Throughput(Kbps)",<br />&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;all_packets_list)<br />&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;graph_list.append (overall_graph_tuple)<br /><br />&nbsp;&nbsp;&nbsp;# Create and show network throughput graph, <br />&nbsp;&nbsp;&nbsp;# using our list of graphs that we built up.<br />&nbsp;&nbsp;&nbsp;Ace_Tool_Contributed.create_network_throughput_graph ("Network Throughput Graph",<br />&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;graph_list, bucket_width=500)</a></div>
      <div class="h2NoBreak"><a name="411788">Visualizations with scripts</a></div>
      <div class="body"><a name="443561">AppTransaction&nbsp;Xpert visualizations apply different coloring and labeling schemes to the Data&nbsp;Exchange&nbsp;Chart or Tree&nbsp;View. You can apply different visualizations to highlight different types of information in a transaction. AppTransaction&nbsp;Xpert contains a variety of built-in visualizations; you can use scripting to write additional custom visualizations.</a></div>
      <div class="body"><a name="443584">To apply the built-in visualizations, choose View&nbsp;&gt; Visualization. Some choices in the list of built-in visualizations are labeled “(example script)”. You can find the Python scripts that implement these visualizations in the </a><span class="code">&lt;reldir&gt;\sys\lib</span> directory and can use them as guides for writing your own visualizations.</div>
      <div class="h3NoBreak"><a name="443743">Creating a Custom Visualization</a></div>
      <div class="bodyIntro"><a name="443753">A visualization is defined by two types of files:</a></div>
      <div class="listBullet_outer" style="margin-left: 0pt">
        <table border="0" cellspacing="0" cellpadding="0" summary="">
          <tr style="vertical-align: baseline;">
            <td>
              <div class="listBullet_inner" style="width: 14.4pt; white-space: nowrap;">•	</div>
            </td>
            <td width="100%">
              <div class="listBullet_inner"><a name="443774">An ETS configuration file that links the visualization to the Transaction&nbsp;Analyzer menu</a></div>
            </td>
          </tr>
        </table>
      </div>
      <div class="listBulletLast_outer" style="margin-left: 0pt">
        <table border="0" cellspacing="0" cellpadding="0" summary="">
          <tr style="vertical-align: baseline;">
            <td>
              <div class="listBulletLast_inner" style="width: 14.4pt; white-space: nowrap;">•	</div>
            </td>
            <td width="100%">
              <div class="listBulletLast_inner"><a name="443797">One or more Python files that define the colors and labels for the visualization</a></div>
            </td>
          </tr>
        </table>
      </div>
      <div class="body"><a name="453827">After creating these files, refresh the model directories, and reopen the Transaction&nbsp;Analyzer model file, the defined visualization will appear in the Visualization menu.</a></div>
      <div class="h4RunIn"><a name="443833">Configuration File</a></div>
      <div class="body"><a name="443869">The configuration file defines the visualization name and the function names that implement the visualization. The file must have a name ending with </a><span class="code">.ace.viz.ets</span> and must be placed in a model directory (the configuration files for built-in visualizations are in <span class="code">&lt;reldir&gt;\sys\configs</span>).</div>
      <div class="bodyIntro"><a name="1014317">Configuration files contain several sections, as follows:</a></div>
      <div class="codeColumn"><a name="1014319">#--------------------------------------------------------------------<br />#<br /># Configuration file format<br />#<br />#---------------------------------------------------------------------<br /><br />start_visualization<br />&nbsp;&nbsp;&nbsp;title:&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&lt;name to appear in menu&gt;<br />&nbsp;&nbsp;&nbsp;coloring:&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&lt;name of coloring section for this visualization&gt;<br />&nbsp;&nbsp;&nbsp;labels:&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&lt;name of label section for this visualization&gt;<br />&nbsp;&nbsp;&nbsp;library:&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<br />&nbsp;&nbsp;&nbsp;init_function:&nbsp;&nbsp;<br />end_visualization<br /><br />start_coloring<br />&nbsp;&nbsp;&nbsp;title:&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&lt;name of coloring section&gt;<br />&nbsp;&nbsp;&nbsp;library:&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&lt;name of Python file containing coloring code&gt;<br />&nbsp;&nbsp;&nbsp;init_function:&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&lt;name of callback function for initializing coloring&gt;<br />&nbsp;&nbsp;&nbsp;appl_msg_function:&nbsp;&nbsp;&lt;name of callback for coloring messages&gt;<br />&nbsp;&nbsp;&nbsp;netpk_function:&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&lt;name of callback for coloring packets&gt;<br />end_coloring<br /><br />start_label<br />&nbsp;&nbsp;&nbsp;title:&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&lt;name of label section&gt;<br />&nbsp;&nbsp;&nbsp;library:&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&lt;name of Python file containing label code&gt;<br />&nbsp;&nbsp;&nbsp;init_function:&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&lt;name of callback function for initializing labels&gt;<br />&nbsp;&nbsp;&nbsp;appl_msg_function:&nbsp;&nbsp;&lt;name of callback for labeling messages&gt;<br />&nbsp;&nbsp;&nbsp;netpk_function:&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&lt;name of callback for labeling packets&gt;<br />end_label</a></div>
      <div class="body"><a name="448771">You can define multiple visualizations in the same configuration file by repeating the different sections.</a></div>
      <div class="h4RunIn"><a name="453781">Python File</a></div>
      <div class="body"><a name="453785">The Python file implements the callback functions defined in the configuration file. The file must be placed in a model directory. Refer to the code for built-in visualizations (in the </a><span class="code">&lt;reldir&gt;\sys\lib</span> directory) as a guide for creating custom visualizations.</div>
      <script type="text/javascript" language="JavaScript1.2">
        <!--
          // Clear related topics
          //
          WWHClearRelatedTopics();

          document.writeln(WWHRelatedTopicsInlineHTML());
        // -->
      </script>
    </blockquote>
    <script type="text/javascript" language="JavaScript1.2">
      <!--
        document.write(WWHRelatedTopicsDivTag() + WWHPopupDivTag() + WWHALinksDivTag());
      // -->
    </script>
    <div style="font-size: 8pt; font-family: arial; text-align: left; text-decoration: none;">
      <a href="../wwhelp/wwhimpl/common/html/default.htm">Home</a> | <a href="#" title="To the top of this page">Back to Top</a><br /><br />© 2013 Riverbed Technology.
  All Rights Reserved. This software may be covered by one or more U.S. Patents. See complete patent notice in the <a href="../Notices/aceanalyst_copy_info_wwp.html">Legal Notices</a> section.<br /><a href="http://www.riverbed.com/support/" style="text-decoration: none" target="_blank"> Riverbed Support Center </a><br /></div>
  </body>
</html>